/*

 Video Deck for YouTube™ (c) by COMCODE d.o.o. <info@comcode.si>

 Video Deck for YouTube™ is licensed under a
 Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License.

 See license.txt for terms of usage or read online:
 <http://creativecommons.org/licenses/by-nc-nd/3.0/>

*/
window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=+new Date;window.ga("create","UA-35941512-1","auto");window.ga("set","checkProtocolTask",function(){});window.ga("set","forceSSL",!0);window.ga("require","displayfeatures");window.ga("send","pageview");document.addEventListener("DOMContentLoaded",function(){a.ec("Signing in");a.xf()},!1);
var a={backend:null,debug:!1,P:null,state:null,Sg:null,Rg:0,qb:{},B:0,j:0,re:31,vc:118,Ve:2,Ff:"www.videodeck.net",wg:"youtube.videodeck.net",Ze:"error.videodeck.net",notify:null,Y:null,ah:!1,rc:!1,Kb:null,ob:null,sc:null,D:null,qc:[],ed:{},tc:!1,dd:!1,we:null,Sa:null,Z:{},Wa:!1,rb:!1,ib:!1,X:null,ja:null,Kd:!1,Ea:!1,Pb:!0,lh:!0,mh:!1,Wc:!1,Xd:null,Wd:null,a:{"search-column":{username:"search-column"}},ca:[],b:{},N:{},aa:[],Aa:[],$b:0,td:0,nh:!1,H:{},ih:null,Jb:null,oa:null,w:[],i:{},Vb:[],Gb:{},
pa:3,xc:0,S:0,ua:0,Pc:0,Cc:null,Uf:60,Qg:0,Qc:null,F:!1,Ba:!1,Ja:!1,Ia:!1,Ua:!0,Ib:!1,ab:!0,hb:!1,ya:"deck",Oa:!1,Xa:null,bh:0,J:"large",za:"1",de:null,Ga:{},Bg:null,oe:null,$d:!1,Bc:null,Ad:null,Xc:{allSubscriptions:{icon:"icon-torsos-all",name:"All Subscriptions",username:"allSubscriptions"}},Ta:{},cd:"&feature=youtube_video_deck",nb:"https://www.youtube.com/watch?v=",ad:"https://www.youtube.com/channel/",ve:"https://www.youtube.com/playlist?list=",Tf:"https://www.videodeck.net/player/frame.html?q=",
Yb:[],ha:null,displayName:null,M:null,pb:"AIzaSyCPwYRE98mlWIe3kWk5OqDyWyte8OqCk_8 AIzaSyAIqc8Sm2sjW9M6Wf3AmyPcQIjX7cCOolo AIzaSyC7TT9NdDd-QX8Zcp-6qqHCWTgFh1bhWmQ AIzaSyBdEoWn57RHDsD5THiG4nJCZ7w4Z_79hJk AIzaSyCmVcHXJT5fR_HFiG_OJ8S5Y7ExwwfcE78 AIzaSyBs8RTD4FV1I83hEhtioDOWHh702fkSm8o AIzaSyATp1xWduIaKqCoAVnMXwacg7XCWnSd4sM AIzaSyAxzRv6Sbgtq4h3wHCnwxtuOsnzybmfLAA AIzaSyDCS8wcPquLuR3ofbQSZegFF8r04_ttWpA AIzaSyBIsgSQXa_bUFvUrsjS21LHd838YwpD7xM".split(" "),Lb:0,ph:"CDIQAA CGQQAA CJYBEAA CMgBEAA CPoBEAA CKwCEAA CN4CEAA CJADEAA CMIDEAA CPQDEAA CKYEEAA CNgEEAA CIoFEAA CLwFEAA CO4FEAA CKAGEAA CNIGEAA CIQHEAA CLYHEAA COgHEAA CJoIEAA CMwIEAA CP4IEAA CLAJEAA COIJEAA CJQKEAA CMYKEAA CPgKEAA CKoLEAA CNwLEAA CI4MEAA CMAMEAA CPIMEAA CKQNEAA CNYNEAA CIgOEAA CLoOEAA COwOEAA CJ4PEAA".split(" "),
Yg:0,username:null,kh:"http://gdata.youtube.com",Ng:"https://gdata.youtube.com/feeds/api/users/default/subscriptions",zc:!1,wb:null,rh:null,kb:!1,vd:0,Fb:[],Qb:0,pc:0,Xb:null,sb:null,f:{},Ma:!1,jg:!1,Kc:!1,mb:[],Wb:null,Va:0,Xg:null,fh:0,mc:[],Vg:null,T:!1,ee:!1,$a:null,qa:!0,Ra:{},bd:{},th:{},Tg:{},zb:0,ue:null,Qa:null,o:{},Wg:[],Ka:[],Ug:null,jb:!1,ta:{Yd:"UCF0pVplsI8R5kcAqgtoRqoA",Sd:"UC-9-kyTW8ZkZNDHQJ6FgpwQ",Bd:"UCOpNcN46UbXVtpKMrmU4Abg",je:"UCEgdi0XIXXZ-qJOFPf4JSKw"},Ge:{},Vf:{},nc:[],fc:!1,
jd:[],C:{},Fc:{},Pa:{},Ac:[],oc:{},lb:{},m:null,fd:function(b){window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)};window.ga.l=+new Date;a.j&&window.ga.push?window.ga.push(["send",b[0],b[1],b[2],b[3],b[4]]):window.ga("send",b[0],b[1],b[2],b[3],b[4])},start:function(){a.zc||(a.c("Start","loaded"),a.B?(a.He(),a.Lc(a.bf())):(a.j?(chrome.runtime.getBackgroundPage(a.Lc),a.qf(),$("body").addClass("isPackaged")):chrome.runtime.getBackgroundPage(a.Lc),chrome.runtime.onUpdateAvailable.addListener(function(){chrome.runtime.reload()}),
setInterval(function(){chrome.runtime.requestUpdateCheck(function(b){"update_available"==b?console.log("update pending..."):"no_update"==b?console.log("no update found"):"throttled"==b&&console.log("Oops, I'm asking too frequently - I need to back off.")})},36E5)),a.ld(),a.md(),a.og(),a.od());a.zc=!0},Yc:function(){a.sd();a.$f(!0);a.fb();a.Ib||a.m.start()},qf:function(){a.Y=!0;YT={PlayerState:{UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5}};var b=$("#ytPlayer")[0];b.addEventListener("contentload",
function(){"about:blank"!=b.src&&b.executeScript({code:'document.body.id= "'+chrome.i18n.getMessage("@@extension_id")+'"; document.body.setAttribute("data-quality","'+a.J+'"); document.body.setAttribute("data-speed","'+a.za+'")'},function(){a.tc=!0;a.Zb();a.rc=!0})},!1)},ug:function(){a.La();var b=$("#yt-container");b.height();b.width();b={playerVars:{autoplay:1,fs:1,html5:"1",enablecastapi:"1"},events:{onReady:a.Of,onStateChange:a.Nc,onError:a.Nf}};a.Ld()&&(window.YTConfig.host="https://www.youtube-nocookie.com");
a.Y=new YT.Player("ytPlayer",b)},ye:function(){a.Od()},bf:function(){return{backend:backend}},Lc:function(b){b&&b.backend?(a.backend=b.backend,a.backend.YTVD=a,a.backend.setIntervals()):y("backend is null",b)},Af:function(){var b=$("input[name='layout']");a.Da||(b.prop("checked",!1),$(b[0]).prop("checked",!0),$("#multirow-count").closest(".settings-item").addClass("disabled"),$("#multirow-count").prop("disabled",!0));b=$("#showDescription");a.hb&&(b.attr("checked",!0),$("#main").addClass("show-descriptions"));
b=$("#autoMarkVideoWatched");a.Ua&&b.attr("checked",!0);b=$("#hideCollapsedColumns");a.ab&&b.attr("checked",!0);b=$("#show-notification");a.Ba?b.attr("checked",!0):$("label[for='sound-notification']").addClass("disabled");b=$("#playAllSkipWatched");a.Ja&&b.attr("checked",!0);b=$("#sound-notification");a.Oa&&b.attr("checked",!0);!0===a.F&&(b=$(".btn-hide-watched"),b.addClass("checked"),$(".menu-watched-btn",b).attr("title","Show watched videos"),$(".menu-watched-icon",b).addClass("icon-eye-slash-close"),
$(".menu-watched-icon",b).removeClass("icon-eye"),a.Zd());$("#multirow-count").val(a.pa);b=$("input[name='play-all-action']");a.Ia&&(b.prop("checked",!1),$(b[1]).prop("checked",!0));b=$("input[name='video-action']");"deck"==a.ya?(b.prop("checked",!1),$(b[1]).prop("checked",!0)):($("#play-vq").closest(".settings-item").addClass("disabled"),$("#play-vq").prop("disabled",!0),$("#play-speed").closest(".settings-item").addClass("disabled"),$("#play-speed").prop("disabled",!0),$("#autoMarkVideoWatched").closest(".settings-item").addClass("disabled"),
$("#autoMarkVideoWatched").prop("disabled",!0));$("#play-vq").val(a.J);$("#play-speed").val(a.za)},og:function(){a.m=new Shepherd.Tour({defaults:{classes:"shepherd-element shepherd-theme-arrows",showCancelLink:!0}});a.m.on("show",function(b){-1!="tour1-step0 tour1-step1 tour1-step2 tour1-step4 tour1-step5 tour1-step6 tour1-step7 tour1-step8 tour1-step9".split(" ").indexOf(b.step.id)&&$(".tip-overlay").removeClass("hide");console.log("show called",b)});a.m.on("cancel",function(){console.log("cancel from tour");
a.yd()});a.m.on("complete",function(){console.log("complete from tour");a.yd()});a.m.on("hide",function(){console.log("hide from tour");$(".tip-overlay").addClass("hide")});a.m.addStep("tour1-step0",{title:"Welcome",text:'This is your first login to <span class="tip-bold">Video Deck for YouTube™</span>.<br><br>Do you want to start a short walkthrough?',buttons:[{classes:"shepherd-button-secondary",text:"No thanks",action:function(){a.m.cancel()}},{text:"Start walkthrough",action:function(){a.m.next()}}],
when:{hide:function(){$(".tip-overlay").addClass("hide")}}});a.m.addStep("tour1-step1",{title:"Step 1",text:'Let\'s start by adding a few subscriptions.<br> Click the <span class="tip-bold"><i class="icon-plus"></i></span> icon.',attachTo:{element:".add-data",on:"bottom"},advanceOn:{selector:"body",event:"menu-add-open"},buttons:[{text:"Next",action:function(){$(".menu-add-btn").click()}}],tetherOptions:{attachment:"top left",targetAttachment:"bottom center",offset:"0px 32px"},when:{hide:function(){$(".tip-overlay").addClass("hide")}}});
a.m.addStep("tour1-step2",{title:"Step 2",text:'You can now choose from multiple options.<br> To add subscriptions, click on the <span class="tip-bold">subscriptions</span>.',attachTo:{element:".add-data .btn-add-sub",on:"right"},advanceOn:{selector:"body",event:"menu-add-subs"},buttons:[{text:"Next",action:function(){$(".btn-add-sub").click()}}],tetherOptions:{attachment:"top left",targetAttachment:"middle right",offset:"30px 0px"},when:{hide:function(){$(".menu-add-btn").click();$(".tip-overlay").addClass("hide");
var b=$(".add-data")[0];b.className=b.className.split(" ").filter(function(b){return 0!=b.indexOf("shepherd-")}).join(" ")}}});a.m.addStep("tour1-step3",{title:"Step 3",text:'Here are all your existing subscriptions.<br> Just click on the subscription to add it on the deck.<br> You can add more than one subscription at the time.<br><br> When you are done, click the <span class="tip-bold"><i class="icon-x"></i></span> button.',attachTo:{element:"#modal-add-subs .sub-items-container",on:"right"},advanceOn:{selector:"body",
event:"add-subs-close"},buttons:[{text:"Next",action:function(){0<a.w.length&&(a.m.next(),$("#modal-add-subs .m-close").click())}}],tetherOptions:{attachment:"top left",targetAttachment:"top right",offset:"0px 0px"}});a.m.addStep("tour1-step4",{title:"Step 4",text:"The selected subscriptions are now on your deck and ready to manage.",buttons:[{text:"Next",action:function(){a.ng();a.m.next()}}],when:{hide:function(){}}})},ng:function(){a.m.addStep("tour1-step5",{title:"Step 5",text:'The <span class="tip-bold"><i class="icon-eye"></i></span> button will mark all videos in column as watched.<br> The <span class="tip-bold"><i class="icon-youtube-play"></i></span> button will play all the videos as the single playlist. <br><br>Click on <span class="tip-bold"><i class="icon-gear-setting"></i></span> button to manage the selected column.',
attachTo:{element:"#columns .column.shown-column",on:"right"},advanceOn:{selector:"body",event:"column-options-open"},buttons:[{text:"Next",action:function(){a.m.next()}}],when:{hide:function(){$(".tip-overlay").addClass("hide");$("#columns .column.shown-column .column-options-btn")[0].style.display="";$("#columns .column.shown-column .column-play-btn")[0].style.display="";$("#columns .column.shown-column .column-watched-btn")[0].style.display=""},show:function(){$("#columns .column.shown-column .column-options-btn")[0].style.display=
"block";$("#columns .column.shown-column .column-play-btn")[0].style.display="block";$("#columns .column.shown-column .column-watched-btn")[0].style.display="block"}},tetherOptions:{attachment:"top left",targetAttachment:"top right",offset:"8px 0px"}});a.m.addStep("tour1-step6",{title:"Step 6",text:'You can move your column by clicking <span class="tip-bold"><i class="icon-caret-left"></i></span> or <span class="tip-bold"><i class="icon-caret-right"></i></span> arrow. <span class="tip-hint"><br>(hint: Try dragging the column)</span><br><br> The <span class="tip-bold"><i class="icon-x"></i></span> button will remove column from your deck.',
attachTo:{element:"#columns .column.shown-column .column-header",on:"bottom"},buttons:[{text:"Next",action:function(){a.m.next()}}],when:{hide:function(){$(".tip-overlay").addClass("hide");$("#columns .column.shown-column .column-header")[0].classList.remove("options-open");$("#columns .column.shown-column .column-options")[0].classList.remove("show")},show:function(){$("#columns .column.shown-column .column-header")[0].classList.add("options-open");$("#columns .column.shown-column .column-options")[0].classList.add("show")}},
tetherOptions:{attachment:"top right",targetAttachment:"bottom center",offset:"0px 0px"}});a.m.addStep("tour1-step7",{title:"Step 7",text:'Moving your your mouse over video will give additional options<br/><br>Clicking on <span class="tip-bold"><i class="icon-eye"></i></span> will mark video as watched.<br> Under <span class="tip-bold"><i class="icon-ellipsis"></i></span>  menu you can add video to watch later playlist<br> or share it on social networks.',attachTo:{element:"#columns .column.shown-column .video-template:not(.watched-video):not(.hidden)",
on:"right"},advanceOn:{selector:"body",event:"column-options-open"},buttons:[{text:"Next",action:function(){a.m.next()}}],when:{hide:function(){$(".tip-overlay").addClass("hide");$("#columns .column.shown-column .video-template:not(.watched-video):not(.hidden) .video-container")[0].classList.remove("hover");a.wc()},show:function(){$("#columns .column.shown-column .video-template:not(.watched-video):not(.hidden) .video-container")[0].classList.add("hover")}},tetherOptions:{attachment:"top left",targetAttachment:"top right",
offset:"0px 0px"}});a.m.addStep("tour1-step8",{title:"Step 8",text:'Here you can access settings, additional tools and<br/> other information about <span class="tip-bold">Video Deck for YouTube™</span>.',attachTo:{element:".user-data",on:"bottom"},buttons:[{text:"Next",action:function(){a.m.next()}}],when:{hide:function(){$(".tip-overlay").addClass("hide");a.wc()}},tetherOptions:{attachment:"top right",targetAttachment:"bottom center",offset:"0px -30px"}});a.m.addStep("tour1-step9",{title:"Step 9",
text:'Now you know all main features in <span class="tip-bold">Video Deck for YouTube™</span>.<br><br>Make your own deck and have fun. <br><br> Follow us on social networks:<br> <div style="height:26px;float:left;"><div class="g-plusone"  data-callback="testr" data-href="https://chrome.google.com/webstore/detail/youtube-video-deck/mpoakikepagdiphlmfaeifpojdmbnegj"></div></div><a href="https://twitter.com/ytvideodeck" class="twitter-follow-button" style="float:left;margin-left:0px;margin-top:1px;height:30px;" target="_blank" title="Follow @ytvideodeck on Twitter">Follow @ytvideodeck on Twitter</a>',
buttons:[{text:"Start using YTVD",action:function(){a.m.complete()}}],when:{hide:function(){$(".tip-overlay").addClass("hide")},show:function(){a.Nd()}}})},yd:function(){$(".tip-overlay").addClass("hide");a.wc();a.Ib=!0;a.G();a.fe();a.te()},wc:function(){$(".shepherd-target").each(function(b,c){c.className=c.className.split(" ").filter(function(b){return-1==b.indexOf("shepherd-")}).join(" ")})},tg:function(){a.s("welcome");a.Hc();a.Tc();0==a.ca.length?(a.fc=!0,a.ff()):0==a.w.length&&a.ub(a.ue,!1,
!1,null,function(b){a.nc=[];for(var c=0;c<b.length;c++)a.nc.push(b[c].Nb)})},Pg:function(){var b;b=0<a.nc.length?a.nc:a.ca;for(var c=0;5>c&&c<b.length;c++)a.sa(b[c],"channel");a.ka()},qd:function(){$(".custom-column-name").val("Enter column name here");$(".custom-column-items").empty();$(".all-sub-items .sub-item.hidden").removeClass("hidden");$(".all-sub-items .filtered").removeClass("filtered");$(".custom-column-save span").html("Add Column");var b=$(".custom-seperator-btn-top .custom-seperator-btn-wrap");
b.addClass("active");$(".custom-column-hide",b).html("Hide channels added to deck");a.sb=null},Bf:function(b){for(var c=a.i[b].customColumnName,d=a.i[b].customColumnItems,e=[],g=0;g<d.length;g++)e.push(d[g].id);$(".custom-column-name").val(c);c=$(".all-sub-items");d=$(".custom-column-items");for(g=0;g<e.length;g++){var f=$(".sub-item span[data-sub-id='"+e[g]+"']",c).closest(".sub-item");if(0<f.length)d.append(f[0].cloneNode(!0)),f.addClass("hidden");else if(f=e[g],a.a[f]){var h=$("#modal-add-subs .sub-items"),
h=$(".sub-item",h)[1].cloneNode(!0),l=a.a[f],n=$("span",h);n.text(l.name);n.attr("data-sub-id",f);f=$(".sub-item-icon",h);f.attr("src","");f.attr("data-src",l.imageUrl);a.I(f,l.imageUrl,!0);$("a",h).attr("title",l.name);d.append(h)}}a.s("add-custom-column");a.sb=b;$(".custom-column-save span").html("Save Column");a.h($(".all-sub-items-container"));a.h($(".custom-column-items-container"))},fb:function(b){var c=$("#container"),d=$(".column");a.Da?(c.removeClass("h-scroll"),c.addClass("v-scroll vertical"),
a.xc=50+(a.hb?101:89)*a.pa,d.css("height",a.xc+"px")):(d.css("height",""),c.addClass("h-scroll"),c.removeClass("v-scroll vertical"),c.scrollTop(0));a.j&&$("#main").addClass("border");if(b)for(b=0;b<a.w.length;b++)c=$("#"+a.w[b].id),c=$(".column-container",c),0<c.length&&(a.Ec(c)?c.scrollLock():c.scrollRelease());a.Ya();a.pe()},pe:function(){if(a.B)for(var b=$(".mCustomScrollbar"),c=0;c<b.length;c++)$(b[c]).mCustomScrollbar("update")},h:function(b){a.B&&b.mCustomScrollbar("update")},fe:function(){a.tb("version",
function(b){if(null==b||b<a.re)a.s("changes"),a.Na("version",a.re)})},te:function(){1===a.ua&&-1!=window.location.search.substring(1).indexOf("subscribe=true")&&a.s("subscribe")},getToken:function(b){if(!a.$a||3E5<(new Date).getTime()-a.$a)a.c("GetToken","state: "+a.state),a.$a=(new Date).getTime(),a.R(a.K("/auth/token",!0),null,"GET",function(c){c&&c.buildVersion&&b&&a.B&&a.vc<c.buildVersion&&(a.c("reload","new version"),a.s("new-version"));if(c&&c.accessToken){a.mg(c.accessToken);a.Cc=c.googleId;
a.T=!1;if(b)return;if(a.zc){a.od();return}}a.start()})},mg:function(b){a.P=b},Od:function(){a.tb("state",function(b){b?(a.state=b,a.getToken()):(a.c("GetState","server"),a.R(a.K("/auth/state",!0),null,"GET",function(b){b.state?(a.Na("state",b.state),a.state=b.state,a.getToken()):console.log("Server getting state error.")}))})},Je:function(){a.Na("state","",function(){a.state=null;a.reload()})},Ic:function(){a.R(a.K("/auth/logout",!0),null,"GET",function(){a.Na("state","",function(){a.state=null;a.reload()});
console.log("logout done")})},od:function(){a.P?($(".no-login").removeClass("no-login"),$(".user-login").css("display","none"),a.Ub(!0)):($(".user-login").css("display","block"),$(".loading-wrap").css("display","none"))},Ie:function(){a.U(a.K("/checkout",!0))},Ef:function(){if(null===a.wb)if(a.j){var b=a.K("/auth/authorize/?redirect_uri="+encodeURIComponent("https://"+chrome.i18n.getMessage("@@extension_id")+".chromiumapp.org/provider_cb"),!0,!0);chrome.identity.launchWebAuthFlow({url:b,interactive:!0},
function(){a.$a=null;a.getToken()})}else{a.c("GetAuth","server");a.wb=window.open(a.Gd(!0)+"/auth/authorize","_blank",["toolbar=no","location="+(window.opera?"no":"yes"),"directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=850,height=600","top="+(window.screen.height-600)/2,"left="+(window.screen.width-850)/2].join());a.wb.focus();var c=setInterval(function(){a.wb.closed&&(a.wb=null,clearInterval(c),a.$a=null,a.getToken())},1E3)}},hh:function(b){b&&!b.error&&($(".user-login").css("display",
"none"),$(".no-login").removeClass("no-login"),$("#click-to-login").css("display","none"),a.Ub(!0))},Ub:function(b,c){c||(c=1,a.zb=0,a.aa=[],a.ec("Feeds","Loading subscriptions"));if(a.qa){var d={part:"snippet",maxResults:50,mine:!0,order:"alphabetical"};c&&1!==c&&(d.pageToken=c);a.A("subscriptions",d,function(c){a.Qf(c,b)})}else a.la(a.Ng,a.fa(function(c){a.Pf(c,b)},a),{parameters:{alt:"json","start-index":c,"max-results":50,v:"2.1",inline:!0},headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+
a.P}})},Tc:function(){$(".logout-link").removeClass("hide")},mf:function(){$(".logout-link").addClass("hide")},He:function(){var b=$.custombrowser,c=!1;b.eh?11>parseInt(b.version,10)&&(c=!0):b.opera?12>parseInt(b.version,10)&&(c=!0):b.dh?8>parseInt(b.version,10)&&(c=!0):b.chrome&&12>parseInt(b.version,10)&&(c=!0);c&&(a.s("not-supported"),a.ze=!0,$(".user-login,#click-to-login").remove())},Cd:function(b,c,d){var e={part:"snippet,contentDetails",maxResults:50};"default"===b?e.mine=!0:e.channelId=b;
c&&(e.pageToken=c);a.A("playlists",e,function(c){console.log("my playlists");c.nextPageToken?a.Cd(b,c.nextPageToken,function(b){var e=$.extend(!0,{},c);e.items=e.items.concat(b.items);d(e)}):d(c)})},ef:function(b){if(a.qa){$("#modal-playlists .sub-item:not(.template)").remove();var c;"default"===b?c="My Playlists":c=a.a[b].name;$("#modal-playlists h3").html(c);$("#modal-playlists .template").css("display","");a.s("playlists");a.Cd(b,null,function(c){a.Jf(b,c)})}else console.log("get playlists"),"default"===
b?a.la("https://gdata.youtube.com/feeds/api/users/default/playlists",a.fa(function(c){a.Ud(b,c)},a),{parameters:{alt:"json",v:"2.1",inline:!0},headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P}}):$.ajax({type:"GET",url:"https://gdata.youtube.com/feeds/api/users/"+b+"/playlists?v=2.1&alt=json&inline=true&max-results=50",cache:!1,success:function(c){a.Ud(b,c)},error:function(){console.log("playlist get error")}}),$("#modal-playlists .sub-item:not(.template)").remove(),"default"===b?c=
"My Playlists":c=a.a[b].name,$("#modal-playlists h3").html(c),$("#modal-playlists .template").css("display",""),a.s("playlists")},ub:function(b,c,d,e,g,f){var h={part:"contentDetails",maxResults:50,playlistId:b};e&&(h.pageToken=e);a.A("playlistItems",h,function(e){if(e.error)console.log("error response from playlist items");else if(e.items){var f=[];a.oc[b]||(a.oc[b]={});for(var h=0;h<e.items.length;h++){var m=e.items[h],p=a.g(m,"contentDetails/videoId");a.oc[b][p]=a.g(m,"id");f.push(p)}a.A("videos",
{part:"snippet,statistics",maxResults:50,id:f.join(",")},function(f){var h={};if(f.items){for(var k=0;k<f.items.length;k++){var m=f.items[k],n=a.g(m,"snippet/channelId");h[n]?h[n]++:h[n]=1;m=a.g(m,"snippet/categoryId");a.lb[m]?a.lb[m]++:a.lb[m]=1}var k=[],m=[],p;for(p in h)m.push(p),k.push({Nb:p,count:h[p]});var w=k.sort(function(b,c){return b.count-c.count}).reverse();a.getChannelData(m,!0,!0,null,function(){f.nextPageToken||(f.nextPageToken=e.nextPageToken);e.nextPageToken&&d?a.ub(b,c,d,e.nextPageToken,
function(b){var c=$.extend(!0,{},f);c.items=c.items.concat(b.items);c.nextPageToken=null;g(c)}):!e.nextPageToken&&d?(f.nextPageToken=null,g(f)):g&&(c?g(f):g(w))})}})}},void 0,void 0,b==a.Qa||0==b.indexOf("PL")||0==b.indexOf("FL"),f)},cf:function(b,c,d){a.A("channelSections",{part:"contentDetails",channelId:b},function(e){if(e.error)console.log("error response from channelSections");else if(e.items){for(var g=[],f=0;f<e.items.length;f++){var h=a.g(e.items[f],"contentDetails/playlists");h&&g.push(h)}a.Ge[b]=
g;c&&0<g.length&&a.ub(g[0][0],!1,!1,null,function(c){d&&d(b,c)})}})},ff:function(){for(var b=[a.ta.Yd,a.ta.Sd,a.ta.je,a.ta.Bd],c=0,d=0;d<b.length;d++)a.cf(b[d],!0,function(b,d){for(var f=[],h=0;h<d.length;h++)a.a[d[h].Nb]&&f.push({channelId:d[h].Nb,count:a.a[d[h].Nb].qh});var f=f.sort(function(b,c){return b.count-c.count}).reverse(),l;b==a.ta.Yd?l=$("#popular-channels"):b==a.ta.Sd?l=$("#music-channels"):b==a.ta.je?l=$("#sports-channels"):b==a.ta.Bd&&(l=$("#gaming-channels"));a.Vf[b]=f;for(var n=$(".video-template")[0],
h=0;8>h&&h<f.length;h++){var k=a.Jc(f[h],n);$(".video-watched-toggle",k).css("display","none");l.append(k)}a.gb($("#modal-initsub"));c++})},hf:function(){var b=[],c;for(c in a.lb)b.push(c);var d={};a.A("videoCategories",{part:"snippet",id:b.join(",")},function(c){for(var g=0;g<c.items.length;g++)d[c.items[g].id]=c.items[g].snippet.title;c=b.sort(function(b,c){return a.lb[c]-a.lb[b]});for(var f=[],g=0;g<c.length;g++){var h=c[g];f.push(d[h]);a.c("video-categories",d[h])}a.rg(f)})},la:function(b,c,d){console.log("send signed request",
b);var e=d&&d.method||"GET",g=d&&d.body||null,f={};d&&d.parameters&&(f=d.parameters);d=d&&d.headers||{};b+="?";for(var h in f)b+=h+"="+f[h]+"&";b=b.substring(0,b.length-1);a.lg(e,b,d,g,function(b,d){4===b.readyState&&(b.responseText?c(b.responseText,b):c(d,b))})},lg:function(b,c,d,e,g){console.log("send request",c);if(!a.ze)if(window.XDomainRequest)d&&d.xe&&(c+="&access_token="+d.xe.substring(7)),$.ajax({url:c,dataType:"jsonp",crossDomain:!0,cache:!1,success:function(b,c,d){g(d,b)},error:function(b,
c,d){alert(d)}});else{d["X-GData-Key"]&&(c=c+"?"+d["X-GData-Key"],delete d["X-GData-Key"]);var f=new XMLHttpRequest;f.onreadystatechange=function(b){g(f,b)};f.open(b,c,!0);if(d)for(var h in d)d.hasOwnProperty(h)&&f.setRequestHeader(h,d[h]);f.onerror=function(){g(f)};f.send(e)}},Jf:function(b,c){a.Aa=null;a.Aa={};var d=c.items;if(d&&d.length){for(var e=$("#modal-playlists .playlist-sub-items"),g=$(".template",e)[0],f=0;f<d.length;f++){var h={id:d[f].id,name:d[f].snippet.title,channelId:b,thumb:d[f].snippet&&
d[f].snippet.thumbnails&&d[f].snippet.thumbnails["default"]?d[f].snippet.thumbnails["default"].url:""};a.Aa[h.id]=h;if(!a.i[h.id]){var l=g.cloneNode(!0);$(l).removeClass("template");a.I($(".sub-item-icon",l),h.thumb?h.thumb:a.ea()+"img/blank.gif");var n;n=h.name;n=$("span",l).html(n);n.attr("title",h.name);n.attr("data-playlist-id",h.id);e.append(l)}}$(g).css("display","none")}else e=$("#modal-playlists .playlist-sub-items"),g=$(".template",e)[0],d=$(g.cloneNode(!0)),$(g).css("display","none"),d.removeClass("template"),
d.addClass("no-playlists"),$("span",d).html("Channel has no playlists"),a.I($(".sub-item-icon",d),a.ea()+"img/blank.gif"),e.append(d);a.h($("#modal-playlists .sub-items-container"))},Ud:function(b,c){var d;if("string"===typeof c)try{d=JSON.parse(c)}catch(k){-1!==c.indexOf("Error 401")&&(a.T=!0,a.getToken(!0));console.log("ERROR playlist parsing");return}else d=c;a.Aa=null;a.Aa={};var e=a.g(d,"feed/entry",null);if(e){d=$("#modal-playlists .playlist-sub-items");for(var g=$(".template",d)[0],f=0;f<e.length;f++){var h=
{id:e[f].yt$playlistId.$t,name:e[f].title.$t,username:a.a[b].username,thumb:e[f].media$group&&e[f].media$group.media$thumbnail&&e[f].media$group.media$thumbnail[0]?e[f].media$group.media$thumbnail[0].url:""};a.Aa[h.id]=h;if(!a.i[h.id]){var l=g.cloneNode(!0);$(l).removeClass("template");a.I($(".sub-item-icon",l),h.thumb?h.thumb:a.ea()+"img/blank.gif");var n;n=h.name;n=$("span",l).html(n);n.attr("title",h.name);n.attr("data-playlist-id",h.id);d.append(l)}}$(g).css("display","none")}else d=$("#modal-playlists .playlist-sub-items"),
g=$(".template",d)[0],e=$(g.cloneNode(!0)),$(g).css("display","none"),e.removeClass("template"),e.addClass("no-playlists"),$("span",e).html("Channel has no playlists"),a.I($(".sub-item-icon",e),a.ea()+"img/blank.gif"),d.append(e);a.h($("#modal-playlists .sub-items-container"))},Qf:function(b,c){if(!a.username&&b.items&&b.items[0]){var d=b.items[0].snippet.channelId;a.username=d;a.getChannelData(d)}d=b&&b.items?b.items:void 0;if(void 0===d)a.Ob()?a.jb?a.Yc():a.jb=!0:$("#loading-text").html("Loading additional channels");
else{for(var e=[],g=[],f=0;f<d.length;f++){var h=d[f].snippet.resourceId.channelId;a.a[h]?$.extend(!0,a.a[h],{loaded:!0}):a.a[h]={loaded:!0};13==h.length&&(a.a[h].isTopic=!0,g.push(h));e.push(h);a.aa.push(d[f])}0<g.length&&a.yf(g,!0);d=!0;b.nextPageToken&&(d=!1,a.zb+=b.pageInfo.resultsPerPage,a.ec(a.zb+"/"+b.pageInfo.totalResults+" ("+Math.round(100*a.zb/b.pageInfo.totalResults)+"%)"),a.Ub(c,b.nextPageToken));d&&(0==a.aa.length?(a.fb(),a.va(),a.Sc(),a.tg(),a.sd()):(a.c("Channels",a.aa.length+""),
a.Ob()?a.jb?a.Yc():a.jb=!0:$("#loading-text").html("Loading additional channels")))}},yf:function(b,c){var d={part:"contentDetails",id:b.join(",")};c&&(d.part+=",topicDetails");a.A("channels",d,function(b){if(b.items)for(var d=0;d<b.items.length;d++){var f=b.items[d].id;b.items[d].contentDetails&&(a.a[f].uploadsId=b.items[d].contentDetails.relatedPlaylists.uploads);c&&b.items[d].topicDetails&&(a.a[f].topicId=b.items[d].topicDetails.topicIds[0])}})},Pf:function(b,c){var d;if("string"===typeof b){""===
b&&(a.s("connection"),a.S=101,a.md());try{d=JSON.parse(b)}catch(h){if(-1!==b.indexOf("Error 401")){a.T=!0;a.getToken(!0);return}if(-1!==b.indexOf("NoLinkedYouTubeAccount")){alert("Your current account is not linked to YouTube account. To fix this create/login to YouTube account.");a.Ic();return}$("#loading-text").html("Too many requests. Please wait a minute and reload.");return}}else d=b;a.username||(d.feed&&d.feed.author[0]&&d.feed.author[0].name&&d.feed.author[0].name.$t?a.username=d.feed.author[0].name.$t:
a.username="Nameless User",d.feed&&d.feed.author[0]&&a.getChannelData(d.feed.author[0].yt$userId.$t));var e=d&&d.feed?d.feed.entry:void 0;if(void 0===e)a.Ob()?a.va():$("#loading-text").html("Loading additional channels");else{for(var g=0;g<e.length;g++){var f=e[g].yt$channelId.$t;a.a[f]?$.extend(!0,a.a[f],{loaded:!0}):a.a[f]={loaded:!0};a.aa.push(e[g])}f=d.feed.link;e=!0;for(g=0;g<f.length;g++)if("next"===f[g].rel){e=!1;g=d.feed.openSearch$startIndex.$t+50;a.ec(g+"/"+d.feed.openSearch$totalResults.$t+
" ("+Math.round(100*g/d.feed.openSearch$totalResults.$t)+"%)");a.Ub(c,g);break}e&&(a.Ob()?a.va():$("#loading-text").html("Loading additional channels"))}},ag:function(b){var c=$("#modal-add-subs .sub-items"),d=$(".sub-item",c)[0],e=[],g=a.aa;a.aa=null;a.aa=[];var f,h;if(g){for(var l=0;l<g.length;l++){var n=a.g(g[l],"snippet/title",""),k=a.g(g[l],"snippet/resourceId/channelId","");k||(k=a.g(g[l],"id",""));a.a[k].imageUrl=a.g(g[l],"snippet/thumbnails/default/url","");a.a[k].name=n;a.a[k].username=k;
a.a[k].description=a.g(g[l],"snippet/description","");a.a[k].videoCount=a.a[k].videoCount||a.g(g[l],"contentDetails/totalItemCount","");a.a[k].subscribed=!0;-1==a.ca.indexOf(k)&&a.ca.push(k);a.a[k].subscriptionId=a.g(g[l],"id","");0===k.indexOf("UC")&&(a.a[k].uploadsId=k.replace("UC","UU"));f=d.cloneNode(!0);h=$("span",f);h.text(n);h.attr("data-sub-id",k);$(".sub-item-icon",f).attr("data-src",a.a[k].imageUrl);$("a",f).attr("title",n);a.i[k]&&$(f).css("display","none");n&&e.push({name:n,item:f})}e.sort(a.ie);
a.a["default"]={imageUrl:a.M,name:a.displayName,username:a.username};g=a.uc(d,a.Xc.allSubscriptions);a.i.allSubscriptions&&$(g).css("display","none");c.append(g);a.a.allSubscriptions.channels=a.ha?a.ca.filter(function(b){return-1==a.ha.indexOf(b)}):a.ca;g=$("#modal-add-custom-column .all-sub-items");f=$("#modal-add-playlist .playlist-sub-items");for(h=0;h<e.length;h++)c.append(e[h].item),g.append(e[h].item.cloneNode(!0)),f.append(e[h].item.cloneNode(!0));$(".sub-item",g).css("display","");$(".sub-item",
f).css("display","");$(d).detach();b&&a.Qd();e=null}else f=d.cloneNode(!0),h=$("span",f),$(".sub-item-icon",f).detach(),h.css("width","262px").css("margin-left","0"),h.text("You don't have any subscriptions\n Click here to add them."),h.css("margin-top","6px"),c.append(f),$(d).detach()},$f:function(b){if(a.qa)a.ag(b);else{var c=$("#modal-add-subs .sub-items"),d=$(".sub-item",c)[0],e=[],g=a.aa;a.aa=null;a.aa=[];var f,h;if(g){for(var l=0;l<g.length;l++){var n=g[l].title.$t;f=n.indexOf(":");-1!==f&&
(n=n.substring(f+2));var k=g[l].yt$channelId.$t;a.a[k]={imageUrl:g[l].media$thumbnail.url,name:n,username:g[l].yt$username.$t};f=d.cloneNode(!0);h=$("span",f);h.text(n);h.attr("data-sub-id",k);$(".sub-item-icon",f).attr("data-src",a.a[k].imageUrl);a.i[k]&&$(f).css("display","none");e.push({name:n,item:f})}e.sort(a.ie);a.a["default"]={imageUrl:a.M,name:a.displayName,username:a.username};g=a.uc(d,a.Xc.allSubscriptions);a.i.allSubscriptions&&$(g).css("display","none");c.append(g);g=$("#modal-add-custom-column .all-sub-items");
l=$("#modal-add-playlist .playlist-sub-items");for(n=0;n<e.length;n++)c.append(e[n].item),g.append(e[n].item.cloneNode(!0)),l.append(e[n].item.cloneNode(!0));$(".sub-item",g).css("display","");$(".sub-item",l).css("display","");$(d).detach();b&&a.Qd()}else f=d.cloneNode(!0),h=$("span",f),$(".sub-item-icon",f).detach(),h.css("width","262px").css("margin-left","0"),h.text("You don't have any subscriptions\n Click here to add them."),h.css("margin-top","6px"),c.append(f),$(d).detach()}},Ob:function(){var b;
if(0<a.w.length)b=a.w.map(function(b){return b.id});else return!0;for(var c=!0,d=0;d<b.length;d++)if(0!==b[d].indexOf("allSubscriptions"))if(a.O(b[d]))for(var e=a.i[b[d]].customColumnItems,g=0;g<e.length;g++)a.a[e[g].id]||(a.Va++,a.getChannelData(e[g].id,!0),c=!1);else a.L(b[d])||a.a[b[d]]||(a.Va++,a.getChannelData(b[d],!0),c=!1);return c},uc:function(b,c){a.a[c.username]=c;var d=b.cloneNode(!0),e=$("span",d),g=$(".sub-item-icon",d);e.text(c.name);e.attr("data-sub-id",c.username);g.remove();e.before($("<div class='icon'><i class='"+
c.icon+"'></i></div>"));return d},getChannelData:function(b,c,d,e,g){a.qa?(-1==b.indexOf(",")||"object"===typeof b&&1==b.length)&&c&&d&&a.a[b]&&a.a[b].loaded?g?g():e&&(e.videoIds&&0===e.videoIds.length?a.Ab({items:[]},e.subId,e.from,e.count,e.addVideos,e.loadingIndicator):a.wa(e.subId,e.videoIds,e.from,e.count,e.addVideos,e.loadingIndicator)):("object"===typeof b&&(b=b.join(",")),b={part:"snippet,contentDetails,topicDetails",id:b},d&&(b.part+=",statistics"),b.id?a.A("channels",b,function(b){c?d?a.Td(b,
e,g):a.Mc(b):a.Vd(b)},void 0,void 0,!c):c?d?a.Td({},e,g):a.Mc({}):a.Vd({})):a.la("https://gdata.youtube.com/feeds/api/users/"+b,c?a.fa(a.Mc,a):a.fa(a.Rf,a),{parameters:{alt:"json",v:"2.1",inline:!0},headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P}})},Td:function(b,c,d){if(b.items)for(var e=0;e<b.items.length;e++){var g=b.items[e],f=g.id,g={imageUrl:a.g(g,"snippet/thumbnails/default/url",""),loaded:!0,name:a.g(g,"snippet/title",""),uploadsId:a.g(g,"contentDetails/relatedPlaylists/uploads",
""),username:g.id,description:a.g(g,"snippet/description",""),subscriberCount:a.g(g,"statistics/subscriberCount",0),videoCount:a.g(g,"statistics/videoCount",0),viewCount:a.g(g,"statistics/viewCount",0)};a.a[f]?$.extend(!0,a.a[f],g):a.a[g.username]=g}d&&d();c&&(c.videoIds&&0===c.videoIds.length?a.Ab({items:[]},c.subId,c.from,c.count,c.addVideos,c.loadingIndicator):a.wa(c.subId,c.videoIds,c.from,c.count,c.addVideos,c.loadingIndicator))},Mc:function(b){var c;try{if("string"===typeof b){if(0===b.indexOf("<errors")){-1!==
b.indexOf("Error 401")&&(a.T=!0,a.getToken(!0));console.log("ERROR DETECTED",b);a.Va--;0===a.Va&&a.va();b=null;return}c=JSON.parse(b)}else c=b}catch(d){-1!==b.indexOf("Error 401")&&(a.T=!0,a.getToken(!0));return}(b=c&&c.items?c.items:void 0)&&0<b.length&&(c=b[0].id,a.a[c]?$.extend(!0,a.a[c],{loaded:!0}):a.a[c]={loaded:!0},13==c.length&&(a.a[c].isTopic=!0),a.aa.push(b[0]));a.Va--;0===a.Va&&a.va()},Vd:function(b){b&&b.items&&b.items[0]?(b=b.items[0],a.M=b.snippet&&b.snippet.thumbnails&&b.snippet.thumbnails["default"]?
b.snippet.thumbnails["default"].url:"",b.snippet&&b.snippet.title?a.displayName=b.snippet.title:(a.displayName=" ",a.Hc()),b.contentDetails&&(a.ue=b.contentDetails.relatedPlaylists.watchHistory,a.Qa=b.contentDetails.relatedPlaylists.watchLater)):(a.displayName=" ",a.M=a.ea()+"img/blank.gif",a.Hc());b=$(".user-data");b.css("display","block");$(".username",b).html(a.displayName);$("#modal-loading .profile-name").html(a.displayName).addClass("active");a.I($("img",b),a.M,!0);a.I($(".comment-author"),
a.M,!0);a.I($(".profile-image img"),a.M,!0);a.va()},Hc:function(){a.la("https://www.googleapis.com/plus/v1/people/me",a.fa(a.Sf,a),{parameters:{},headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P}})},Sf:function(b){var c;if("string"===typeof b)try{c=JSON.parse(b)}catch(d){if(-1!==b.indexOf("Error 401")){a.T=!0;a.getToken(!0);return}}else c=b;a.displayName=c.displayName;b=$(".user-data");$(".username",b).html(a.displayName);$("#modal-welcome .name").html(a.displayName);a.M&&-1==a.M.indexOf("img/blank.gif")||
(a.M=c.image&&c.image.url?c.image.url:a.ea()+"img/blank.gif");a.I($("img",b),a.M,!0);a.I($(".comment-author"),a.M,!0);a.I($(".profile-image img"),a.M,!0)},Rf:function(b){var c;console.warn("DEPRECATED: onUserDataReceived");if("string"===typeof b)try{c=JSON.parse(b)}catch(d){if(-1!==b.indexOf("Error 401")){a.T=!0;a.getToken(!0);return}}else c=b;c?(a.M=c.entry&&c.entry.media$thumbnail&&c.entry.media$thumbnail.url?c.entry.media$thumbnail.url:"",c.entry.author[0]&&c.entry.author[0].name&&c.entry.author[0].name.$t?
a.displayName=c.entry.author[0].name.$t:a.displayName="Nameless User"):(a.displayName="Profile1",a.M=a.ea()+"img/blank.gif");b=$(".user-data");$(".username",b).html(a.displayName);a.I($(".profile-image img"),a.M,!0);a.va()},Zc:function(){a.V();$("#search").toggleClass("show");$("#container").toggleClass("search")},kf:function(b){b=b.columnFilters;var c="filters=",d=[];"hour"==b.uploadDate?d.push("hour"):"day"==b.uploadDate?d.push("today"):"week"==b.uploadDate?d.push("week"):"month"==b.uploadDate?
d.push("month"):"year"==b.uploadDate&&d.push("year");b.resultType&&d.push(b.resultType);b.duration&&d.push(b.duration.replace("Duration",""));b.features.closedCaptions&&d.push("cc");b.features.creativeCommons&&d.push("creativecommons");b.features.hd&&d.push("hd");b.features.live&&d.push("live");b.features.threeD&&d.push("3d");c+=d.join("%2C");b.sortBy&&("date"==b.sortBy?c+="&search_sort=video_date_uploaded":"viewCount"==b.sortBy?c+="&search_sort=video_view_count":"rating"==b.sortBy&&(c+="&search_sort=video_avg_rating"));
return c},eb:function(b,c,d,e){c||(c=!1);var g,f;if("search-column"==b)f=a.Z,g=$(".search-area").val().trim(),$("#search").hasClass("show")||(a.c("OpenSearch","clicked"),a.Zc());else{var h=a.i[b];if(!h){console.log("No search column settings",b);return}f={uploadDate:h.columnFilters.uploadDate,type:h.columnFilters.resultType,videoDefinition:h.columnFilters.features.hd?"high":null,videoCaption:h.columnFilters.features.closedCaptions?"closedCaption":null,videoLicense:h.columnFilters.features.creativeCommons?
"creativeCommon":null,videoDimension:h.columnFilters.features.threeD?"3d":null,eventType:h.columnFilters.features.live?"live":null,videoDuration:h.columnFilters.duration&&h.columnFilters.duration.replace("Duration",""),order:h.columnFilters.sortBy};h.columnFilters.uploadDate&&(f.publishedAfter=a.Fd(h.columnFilters.uploadDate));g=h.columnFilters.searchQuery}var h={part:"snippet",maxResults:25,q:g},l;for(l in f)f[l]&&(h[l]=f[l]);!(h.videoDuration||h.videoDefinition||h.videoCaption||h.videoLicense||
h.videoDimension||h.eventType||h.videoType)||h.type&&"video"==h.type||(h.type="video");!h.channelType||h.type&&"channel"==h.type||(h.type="channel");c||(e=!1,a.C[b]?(h.pageToken=a.C[b],e=!0):("search-column"==b&&($(".search-total").html(""),a.B?($("#"+b+" .mCSB_container").empty(),a.xa($("#"+b+" .mCSB_container")),$("#"+b+" .column-container").mCustomScrollbar("update")):($("#"+b+" .column-container").empty(),a.xa($("#"+b+" .column-container")))),a.b[b]=null,a.Ga[b]=null,a.N[b]=null),d=a.b[b]?a.b[b].length+
1:1);a.A("search",h,function(f){f.error?a.xd(b,g):a.Bb(f,b,c,d,e,null,null,!0)})},sh:function(b){b=$('<span style="position:absolute;width:auto;left:-9999px">'+b+"</span>");b.css("font-size","12px");b.css("font-weight","bold");$("body").append(b);var c=b.width();b.remove();return c},hc:function(b,c){return c.index-b.index},ie:function(b,c){var d=b.name.toLowerCase(),e=c.name.toLowerCase();return d<e?-1:d>e?1:0},na:function(b,c){return(new Date(c.videoUpload)).getTime()-(new Date(b.videoUpload)).getTime()},
ic:function(b,c){var d=b.videoTitle.toLowerCase().replace(/\s/g,""),e=c.videoTitle.toLowerCase().replace(/\s/g,"");return d<e?-1:d>e?1:0},jc:function(b,c){return parseInt(b.videoViewsCount,10)-parseInt(c.videoViewsCount,10)},Qd:function(){if(0==a.w.length)a.Sc();else{for(var b=$(".column-template")[0],c=$("#columns")[0],d=0;d<a.w.length;d++)a.Pd(a.w[d].id,b,c);a.kd();a.backend.startPolling()}},Pd:function(b,c,d,e){c=c.cloneNode(!0);var g=$(c);g.removeClass("column-template").addClass("column");var f=
$("h1 strong",c),h=a.a[b];if(null==h)console.log("fail column for",b);else{var l=a.i[b];f.text(h.name);f.attr("title",h.name);var f=$(".column-header-ch-link span img",c),n=$(".column-header-ch-link",c);if(a.L(b)){$(".column-sort-btn",c).removeClass("hide");var k=$(".column-sort-btn-icon",c),m=l.ordered;m&&"defaultDescending"!=m?"defaultAscending"==m?k.addClass("icon-arrow-up"):"uploadDateAscending"==m?k.addClass("icon-sort-numeric-two"):"uploadDateDescending"==m?k.addClass("icon-sort-numeric"):"viewCountAscending"==
m?k.addClass("icon-sort-amount-two"):"viewCountDescending"==m?k.addClass("icon-sort-amount"):"alphabeticalAscending"==m?k.addClass("icon-sort-alpha-two"):"alphabeticalDescending"==m&&k.addClass("icon-sort-alpha"):k.addClass("icon-arrow-down")}h.imageUrl||h.icon?(h.imageUrl?f.attr("data-src",h.imageUrl):(f.remove(),k=$('<i class="'+h.icon+' column-icon"></i>'),$(".column-header-ch-link span",c).append(k)),a.O(b)||n.attr("href","https://www.youtube.com/channel/"+b),a.L(b)&&n.attr("href","https://www.youtube.com/playlist?list="+
b),a.ia(b)&&n.attr("href","https://www.youtube.com/results?search_query="+l.columnFilters.searchQuery+"&"+a.kf(l)),"watchLater"==b&&n.attr("href","https://www.youtube.com/feed/watch_later"),"allSubscriptions"===h.username&&n.attr("href","https://www.youtube.com/feed/subscriptions"),-1<e&&0<$(d).children().length?0===e?$(d).prepend(c):g.insertAfter($(d).children()[e-1]):d.appendChild(c)):(f.css("visibility","hidden"),-1<e&&0<$(d).children().length?0===e?$(d).prepend(c):g.insertAfter($(d).children()[e-
1]):d.appendChild(c),f.parent());g.attr("id",b);a.Da?g.css("height",a.xc+"px"):g.css("height","");a.L(b)&&n.attr("href","https://www.youtube.com/playlist?list="+b);"watchLater"==b&&n.attr("href","https://www.youtube.com/feed/watch_later");a.ia(b)&&g.addClass("search-column");a.W(b,0);a.B?($(".column-container",c).mCustomScrollbar(a.Za({whileScrolling:function(){100==this.mcs.topPct&&a.yc(this)}})),a.xa($(".mCSB_container",c))):a.xa($(".column-container",c));l.active||g.addClass("inactive");a.bb(g)}},
yc:function(b){if(0===$("article.spinner-article",b).length){var c=$(b).parent().parent(),d=c.attr("id");b=$("article",b);var d=a.b[d],e=15;if(a.F){for(var g=e=0,f=b.length;f<d.length;f++){var h=d[f].videoChId;if(-1!=["youtube#playlist","youtube#channel"].indexOf(d[f].kind)||!a.H[h]||-1==a.H[h].indexOf(d[f].videoId))if(e++,g=f-b.length,15<=e)break}if(0===e)return;e=g+1}b=b.length;a.kb=!0;a.Fa(c.attr("id"),b,e);a.kb=!1}},$g:function(b,c,d,e,g){console.log("DEPRECATED");d||(d=1);a.O(b)?a.Dd(b,c,d,e):
void 0===a.a[b]?g?(a.f[g].chLen--,a.f[g].chLen===a.f[g].data.length&&a.Oc({feed:null},b,c,d,e,g)):console.log("fail load",b):"allSubscriptions"===b&&a.wf(null,b,c,d,e)},wf:function(b){b||(a.jd=null,a.jd=[]);a.T||a.A("activities",{part:"snippet,contentDetails",home:!0,type:"upload",maxResults:50},function(b){console.log("response from activities",b)})},W:function(b,c,d,e,g,f){d||(d=1);if(g||!a.i[b]||a.i[b].active||!c)if(a.O(b))a.Dd(b,c,d,e);else if(a.ia(b))a.eb(b,c,d,e);else if(void 0===a.a[b])g?(a.f[g].chLen--,
a.f[g].chLen===a.f[g].data.length&&a.Oc({feed:null},b,c,d,e,g)):console.log("fail load",b);else if(a.L(b))f=b,"watchLater"===f&&(f=a.Qa),a.ub(f,!0,!0,null,function(f){a.Bb(f,b,c,d,e,g)});else if(a.a[b].isTopic)f={part:"snippet",maxResults:25,topicId:a.a[b].topicId,order:"date"},!a.C[b]||c||g||(f.pageToken=a.C[b]),g&&a.C[g]&&a.C[g][b]&&!c&&(f.pageToken=a.C[g][b]),a.A("search",f,function(f){a.Bb(f,b,c,d,e,g)});else if("allSubscriptions"===b)a.T||a.la("https://gdata.youtube.com/feeds/api/users/default/subtivity",
a.fa(function(f){a.If(f,b,c,d,e)},a),{parameters:{alt:"json","max-results":25,"start-index":d,v:"2.1",orderby:"published",inline:!0,key:a.da(),access_token:a.P}});else{var h=null;!c&&e&&(h=g?a.C[g][b]:a.C[b]);a.ub(a.a[b].uploadsId,!0,!1,h,function(f){a.Bb(f,b,c,d,e,g)},f)}},Dd:function(b,c,d,e){var g=a.a[b];if(!a.f[b]||a.f[b].completed){a.f[b]&&a.f[b].completed?(a.f[b].completed=!1,a.f[b].chLen=g.channels.length,a.f[b].data=[],a.f[b].v3=0):a.f[b]={completed:!1,chLen:g.channels.length,data:[],v3:0};
for(var f=0;f<g.channels.length;f++)a.W(g.channels[f],c,d,e,b,{last:f==g.channels.length-1,name:b})}},Db:function(){if(10>a.Qb&&null==a.Xb){var b=a.Fb.shift();null!=b&&(a.Qb++,$.ajax({type:"GET",url:b.url,cache:!1,success:function(c){a.Qb--;a.pc=0;a.Oc(c,b.subId,b.isUpdate,b.startIndex,b.addVideos,b.customChName);0<a.Fb.length?a.Db():a.S=0},error:function(){a.Qb--;a.L(b.xg)?$("#"+b.xg).remove():(a.Fb.push(b),a.S++);10<a.S?(a.pc+=10,null==a.Xb&&(a.Xb=setTimeout(function(){a.Xb=null;a.Db();a.Db();a.Db()},
1E3*a.pc))):0<a.Fb.length&&a.Db()}}))}},L:function(b){return"watchLater"===b?!0:a.i[b]?"playlist"===a.i[b].type:!1},O:function(b){return"allSubscriptions"===b?!0:a.i[b]?"custom"===a.i[b].type:!1},ia:function(b){return"search-column"===b?!0:a.i[b]?"search"===a.i[b].type:!1},Gc:function(b){return a.i[b]?"channel"===a.i[b].type:!1},cb:function(){return-1!=navigator.appVersion.indexOf("Mac")},rf:function(){return"undefined"!==typeof window.Og},Ld:function(){return 0<=["iPad","iPhone","iPod"].indexOf(navigator.platform)},
sf:function(){return"ontouchstart"in document.documentElement},nd:function(b){for(var c=0;c<b.length;c++){if("video_uploaded"===b[c].term)return 1;if("video_added_to_playlist"===b[c].term)return 2}return 0},Hd:function(b){for(var c in a.a)if(a.a[c].name===b)return!0;return!1},gh:function(b,c,d,e,g){var f;try{"string"===typeof b?f=JSON.parse(b):f=b}catch(p){-1!==b.indexOf("Error 401")&&(a.T=!0,a.getToken(!0));a.S++;100>a.S?a.W(c,d,e,g):a.s("connection");return}if(void 0!==f){"allSubscriptions"!==c||
!0===d||g||(a.Ta={});var h=f.feed&&f.feed.entry?f.feed.entry:null;b=[];var l=[];if(h){for(f=0;f<h.length;f++){for(var n=h[f],k,m=0;m<n.link.length;m++)"http://gdata.youtube.com/schemas/2007#video"===n.link[m].rel&&(k=n.link[m].entry[0]);if(void 0!==k){m={hqVideoThumb:k.media$group&&k.media$group.media$thumbnail&&k.media$group.media$thumbnail[2]&&k.media$group.media$thumbnail[2].url?k.media$group.media$thumbnail[2].url:"",videoThumb:k.media$group&&k.media$group.media$thumbnail&&k.media$group.media$thumbnail[0].url?
k.media$group.media$thumbnail[0].url:"",videoId:k.media$group.yt$videoid?k.media$group.yt$videoid.$t:k.media$group.media$player.url?k.media$group.media$player.url.replace("&feature=youtube_gdata_player","").replace(a.nb,"").replace("https://www.youtube.com/watch?v=",""):"",videoLength:k.media$group&&k.media$group.yt$duration&&k.media$group.yt$duration.seconds?k.media$group.yt$duration.seconds:0,videoTitle:k.title.$t,videoDescription:k.media$group.media$description?k.media$group.media$description.$t:
"",videoUpload:n.updated.$t,videoViewsCount:a.g(k,"yt$statistics/viewCount",0),videoUsername:k.author[0]&&k.author[0].name&&k.author[0].name.$t?k.author[0].name.$t:null,videoUsernameUrl:"https://www.youtube.com/user/"+k.author[0].name.$t,videoRestricted:k.app$control&&k.app$control.yt$state&&"restricted"===k.app$control.yt$state.name?!0:!1,videoShowUsername:!0,videoUsernameId:k.author[0]&&k.author[0].yt$userId&&k.author[0].yt$userId.$t?k.author[0].yt$userId.$t:null,videoChId:a.Sb(n.author[0].name.$t)};
"https:"===window.location.protocol&&(m.videoThumb=m.videoThumb.replace("http://","https://"));n=a.nd(n.category);m.videoTypeUpload=1===n||2===n&&a.Hd(k.author[0].name.$t)?!0:!1;if("allSubscriptions"===c&&!d){if(a.Ta[m.videoId])continue;a.Ta[m.videoId]=!0}l.push(m.videoId);b.push(m)}}if(g)k=a.b[c].concat(b),a.b[c]=null,a.b[c]=k;else if(a.b[c]){k=b[b.length-1];for(f=0;a.b[c][f].videoId!==k.videoId&&a.b[c].length-1!==f;)f++;a.b[c].splice(0,f+1);k=b.concat(a.b[c]);a.b[c]=null;a.b[c]=k}else a.b[c]=b;
d?a.Hb(c):a.Fa(c,e-1,!1,g)}else d=$("#"+c),$("article.spinner-article",d).detach(),a.ma(c)}},If:function(b,c,d,e,g){var f;try{"string"===typeof b?f=JSON.parse(b):f=b}catch(r){-1!==b.indexOf("Error 401")&&(a.T=!0,a.getToken(!0));a.S++;100>a.S?a.W(c,d,e,g):a.s("connection");return}if(void 0!==f){"allSubscriptions"!==c||!0===d||g||(a.Ta={});var h=f.feed&&f.feed.entry?f.feed.entry:null;b=[];var l=[];if(h){for(f=0;f<h.length;f++){for(var n=h[f],k,m=0;m<n.link.length;m++)"http://gdata.youtube.com/schemas/2007#video"===
n.link[m].rel&&(k=n.link[m].entry[0]);if(void 0!==k){m={hqVideoThumb:k.media$group&&k.media$group.media$thumbnail&&k.media$group.media$thumbnail[2]&&k.media$group.media$thumbnail[2].url?k.media$group.media$thumbnail[2].url:"",videoThumb:k.media$group&&k.media$group.media$thumbnail&&k.media$group.media$thumbnail[0].url?k.media$group.media$thumbnail[0].url:"",videoId:k.media$group.yt$videoid?k.media$group.yt$videoid.$t:k.media$group.media$player.url?k.media$group.media$player.url.replace("&feature=youtube_gdata_player",
"").replace(a.nb,"").replace("https://www.youtube.com/watch?v=",""):"",videoLength:k.media$group&&k.media$group.yt$duration&&k.media$group.yt$duration.seconds?k.media$group.yt$duration.seconds:0,videoTitle:k.title.$t,videoDescription:k.media$group.media$description?k.media$group.media$description.$t:"",videoUpload:n.updated.$t,videoViewsCount:a.g(k,"yt$statistics/viewCount",0),videoUsername:k.author[0]&&k.author[0].name&&k.author[0].name.$t?k.author[0].name.$t:null,videoUsernameUrl:"https://www.youtube.com/user/"+
k.author[0].name.$t,videoRestricted:k.app$control&&k.app$control.yt$state&&"restricted"===k.app$control.yt$state.name?!0:!1,videoShowUsername:!0,videoLikes:k.yt$rating?parseInt(k.yt$rating.numLikes,10):0,videoDislikes:k.yt$rating?parseInt(k.yt$rating.numDislikes,10):0,videoUsernameId:k.author[0]&&k.author[0].yt$userId&&k.author[0].yt$userId.$t?k.author[0].yt$userId.$t:null,videoChId:a.Sb(n.author[0].name.$t)};"https:"===window.location.protocol&&(m.videoThumb=m.videoThumb.replace("http://","https://"));
var p=k.media$group.media$thumbnail;a.Pa[m.videoId]=[];if(p)for(var q=0;q<p.length;q++)!p[q].yt$name||"start"!==p[q].yt$name&&"end"!==p[q].yt$name&&"middle"!==p[q].yt$name||a.Pa[m.videoId].push(p[q].url);n=a.nd(n.category);m.videoTypeUpload=1===n||2===n&&a.Hd(k.author[0].name.$t)?!0:!1;if("allSubscriptions"===c&&!d){if(a.Ta[m.videoId])continue;a.Ta[m.videoId]=!0}l.push(m.videoId);a.o[m.videoId]=m;b.push(m)}}if(g)k=a.b[c].concat(b),a.b[c]=null,a.b[c]=k;else if(a.b[c]){k=b[b.length-1];for(f=0;a.b[c][f].videoId!==
k.videoId&&a.b[c].length-1!==f;)if(f++,!a.b[c][f]){console.log("break out 1");break}a.b[c].splice(0,f+1);k=b.concat(a.b[c]);a.b[c]=null;a.b[c]=k}else a.b[c]=b;d?a.Hb(c):a.Fa(c,e-1,!1,g)}else d=$("#"+c),$("article.spinner-article",d).detach(),a.ma(c)}},Bb:function(b,c,d,e,g,f,h,l){if(null!==b){if(a.L(c)){var n=$("#"+c);$(".column-header-ch-link img",n);-1===c.indexOf("watchLater")?n.addClass("playlist-column"):1===e&&$("#watchLater .column-container article").remove()}if(null!=b&&null!=b.items){if(b.items){b.nextPageToken&&
!d?f?(a.C[f]||(a.C[f]={}),a.C[f][c]=b.nextPageToken):a.C[c]=b.nextPageToken:b.nextPageToken||h||(a.C[c]=!1);if(l&&b.pageInfo&&null!=b.pageInfo.totalResults){l=a.ra(b.pageInfo.totalResults);if(0==b.pageInfo.totalResults||0==b.items.length){var k;"search-column"==c?k=$("textarea.search-area").val():k=a.i[c].columnFilters.searchQuery;a.xd(c,k);l=0}else $("#"+c+" .no-search-results").remove();"search-column"==c&&$(".search-total").html("About "+l+" results")}n=b.items;b=[];k=[];for(l=0;l<n.length;l++){var m=
n[l],p;if("allSubscriptions"==c){if(p={videoId:m.contentDetails&&m.contentDetails.upload?m.contentDetails.upload.videoId:"",videoUpload:m.snippet.publishedAt,videoPlaylistId:m.id},!p.videoId)continue}else{p={videoId:m.contentDetails&&m.contentDetails.videoId?m.contentDetails.videoId:"",videoPlaylistId:m.id,videoUpload:m.snippet?m.snippet.publishedAt:"",loadDetails:!0,kind:m.id&&m.id.kind?m.id.kind:"",videoViewsCount:a.g(m,"statistics/viewCount",""),videoTitle:a.g(m,"snippet/title","")};p.videoId=
p.videoPlaylistId.videoId?p.videoPlaylistId.videoId:p.videoPlaylistId;"youtube#channel"===p.kind&&(p.channelId=m.id&&m.id.channelId?m.id.channelId:"",p.videoId=null,p.videoPlaylistId=null);"youtube#playlist"===p.kind&&(p.playlistId=m.id&&m.id.playlistId?m.id.playlistId:"",p.videoId=null,p.videoPlaylistId=null);if(a.L(c)||a.ia(c)||a.O(c)||"allSubscriptions"==c||a.Gc(c))p.videoChId=a.g(m,"snippet/channelId","");a.ia(c)&&(p.videoShowUsername=!0)}k.push(p.videoId);p.index=b.length;b.push(p)}("allSubscriptions"===
c||a.Gc(c))&&b.sort(a.na);a.L(c)&&(l=a.i[c],l.ordered&&"defaultDescending"!=l.ordered?"defaultAscending"==l.ordered?b.sort(a.hc):"uploadDateAscending"==l.ordered?b.sort(a.na):"uploadDateDescending"==l.ordered?b.sort(a.na).reverse():"viewCountAscending"==l.ordered?b.sort(a.jc):"viewCountDescending"==l.ordered?b.sort(a.jc).reverse():"alphabeticalAscending"==l.ordered?b.sort(a.ic):"alphabeticalDescending"==l.ordered&&b.sort(a.ic).reverse():b.sort(a.hc).reverse());if(f){h?a.f[f].v3--:a.f[f].data.push(b);
if(a.a[c].isTopic&&!h){a.f[f].v3?a.f[f].v3++:a.f[f].v3=1;a.wa(c,k,e,null,g,null,d,f);return}if(a.f[f].data.length===a.f[f].chLen&&0==a.f[f].v3){h=[];for(c=0;c<a.f[f].data.length;c++)h=h.concat(a.f[f].data[c]);c=f;b=h;b.sort(a.na);a.f[f].completed=!0}else return}if(g)f=a.b[c].concat(b),a.b[c]=null,a.b[c]=f;else if(a.b[c]&&0!==a.b[c].length){f=b[b.length-1];for(l=0;a.b[c][l].videoId!==f.videoId&&a.b[c].length-1!==l;)l++;a.b[c].splice(0,l+1);f=b.concat(a.b[c]);a.b[c]=null;a.b[c]=f}else a.b[c]=b}else if(a.b[c]=
null,a.b[c]=[],f){a.f[f].data.push([]);a.f[f].v3--;if(a.f[f].data.length===a.f[f].chLen&&0==a.f[f].v3){h=[];for(c=0;c<a.f[f].data.length;c++)h=h.concat(a.f[f].data[c]);c=f;b=h;b.sort(a.na);a.f[f].completed=!0}else return;if(g)f=a.b[c].concat(b),a.b[c]=null,a.b[c]=f;else if(a.b[c]&&0!==a.b[c].length){f=b[b.length-1];for(l=0;a.b[c][l]&&a.b[c][l].videoId!==f.videoId&&a.b[c].length-1!==l;)l++;a.b[c].splice(0,l+1);f=b.concat(a.b[c]);a.b[c]=null;a.b[c]=f}else a.b[c]=b}d?a.Hb(c):a.Fa(c,e-1,!1,g)}}else a.S++,
100>a.S?a.W(c,d,e,g):a.s("connection")},Zg:function(b){if("object"!=typeof b.id)return b.id;if(b.id.channelId)return b.id.channelId;if(b.id.playlistId)return b.id.playlistId;if(b.id.videoId)return b.id.videoId},xd:function(b,c){var d=a.vb("#"+b+" .column-container");d.empty();$("#"+b+" .video-template.spinner-article").remove();d.append("<div class='no-search-results'>No video results for \""+c+'"</div>')},vb:function(b){b=$(b);b.hasClass("mCustomScrollbar")&&(b=$(".mCSB_container",b));return b},
Oc:function(b,c,d,e,g,f){if(null!==b){var h=!1;if(a.L(c)){var l=$("#"+c),h=!0,n=$(".column-header-ch-link img",l);-1===c.indexOf("watchLater")&&l.addClass("playlist-column");n.attr("data-src")===a.ea()+"img/blank.gif"&&a.Ig(c,b,l,n)}if(null!=b&&null!=b.feed){console.log("subId",c,b);if(b.feed&&b.feed.entry){n=b.feed.entry;b=[];for(var k=[],l=0;l<n.length;l++){var m=n[l],p={hqVideoThumb:m.media$group&&m.media$group.media$thumbnail&&m.media$group.media$thumbnail[2]&&m.media$group.media$thumbnail[2].url?
m.media$group.media$thumbnail[2].url:"",videoThumb:m.media$group&&m.media$group.media$thumbnail&&m.media$group.media$thumbnail[0].url?m.media$group.media$thumbnail[0].url:"",videoId:m.media$group.yt$videoid?m.media$group.yt$videoid.$t:m.media$group.media$player.url?m.media$group.media$player.url.replace("&feature=youtube_gdata_player","").replace(a.nb,"").replace("https://www.youtube.com/watch?v=",""):"",videoLength:m.media$group&&m.media$group.yt$duration&&m.media$group.yt$duration.seconds?m.media$group.yt$duration.seconds:
0,videoTitle:m.title.$t,videoDescription:m.media$group.media$description?m.media$group.media$description.$t:"",videoUpload:m.published.$t,channelId:a.a[c].username,videoViewsCount:a.g(m,"yt$statistics/viewCount",0),videoLikes:m.yt$rating?parseInt(m.yt$rating.numLikes,10):0,videoDislikes:m.yt$rating?parseInt(m.yt$rating.numDislikes,10):0,videoUsername:a.a[c].name,videoUsernameUrl:"https://www.youtube.com/user/"+a.a[c].username,videoRestricted:m.app$control&&m.app$control.yt$state&&"restricted"===m.app$control.yt$state.name?
!0:!1},q=m.media$group.media$thumbnail;a.Pa[p.videoId]=[];if(q)for(var r=0;r<q.length;r++)!q[r].yt$name||"start"!==q[r].yt$name&&"end"!==q[r].yt$name&&"middle"!==q[r].yt$name||a.Pa[p.videoId].push(q[r].url);"https:"===window.location.protocol&&(p.videoThumb=p.videoThumb.replace("http://","https://"));f&&(p.videoShowUsername=!0,p.videoChId=a.Sb(m.author[0].name.$t));if(h){p.videoShowUsername=!0;q=m.media$group.yt$uploaderId.$t;p.videoChId=q;p.videoUpload=m.media$group.yt$uploaded.$t;var r=m.id.$t,
z=r.indexOf("watchLater:");-1!==z&&(p.videoPlaylistId=r.substr(z+12),p.videoUsername=m.media$group.media$credit[0].yt$display);a.a[q]&&(p.videoUsername=a.a[q].name,p.videoUsernameUrl="https://www.youtube.com/user/"+a.a[q].username)}a.o[p.videoId]=p;k.push(p.videoId);b.push(p)}if(f)if(a.f[f].data.push(b),a.f[f].data.length===a.f[f].chLen&&0==a.f[f].v3){h=[];for(c=0;c<a.f[f].data.length;c++)h=h.concat(a.f[f].data[c]);c=f;b=h;b.sort(a.na);a.f[f].completed=!0}else return;if(g)f=a.b[c].concat(b),a.b[c]=
null,a.b[c]=f;else if(a.b[c]&&0!==a.b[c].length){f=b[b.length-1];for(l=0;a.b[c][l].videoId!==f.videoId&&a.b[c].length-1!==l;)l++;a.b[c].splice(0,l+1);f=b.concat(a.b[c]);a.b[c]=null;a.b[c]=f}else a.b[c]=b}else if(a.b[c]=null,a.b[c]=[],f){a.f[f].data.push([]);if(a.f[f].data.length===a.f[f].chLen&&0==a.f[f].v3){h=[];for(c=0;c<a.f[f].data.length;c++)h=h.concat(a.f[f].data[c]);c=f;b=h;b.sort(a.na);a.f[f].completed=!0}else return;if(g)f=a.b[c].concat(b),a.b[c]=null,a.b[c]=f;else if(a.b[c]&&0!==a.b[c].length){f=
b[b.length-1];for(l=0;a.b[c][l]&&a.b[c][l].videoId!==f.videoId&&a.b[c].length-1!==l;)l++;a.b[c].splice(0,l+1);f=b.concat(a.b[c]);a.b[c]=null;a.b[c]=f}else a.b[c]=b}d?a.Hb(c):a.Fa(c,e-1,!1,g)}}else a.S++,100>a.S?a.W(c,d,e,g):a.s("connection")},Jg:function(b,c){var d=a.a[b],e=$(".column-header-ch-link h1 strong",c);e.html(d.name);e.attr("title",d.name);e="https://www.youtube.com/playlist?list="+b;"watchLater"===b&&(e="https://www.youtube.com/feed/watch_later");$(".column-header-ch-link",c).attr("href",
e);$(".column-header-ch-link img",c).attr("data-src",d.imageUrl)},Ig:function(b,c,d,e){var g=c&&c.feed&&c.feed.media$group&&c.feed.media$group.media$thumbnail&&c.feed.media$group.media$thumbnail[0]?c.feed.media$group.media$thumbnail[0].url:"";console.log("update playlist ",b,d);var f=$(".column-header-ch-link h1 strong",d);c&&c.feed&&(f.html(c.feed.title.$t),f.attr("title",c.feed.title.$t),a.a[b].name=c.feed.author[0].name.$t,a.a[b].username=a.a[a.Sb(c.feed.author[0].name.$t)].username,c="https://www.youtube.com/playlist?list="+
b,"watchLater"===b?(c="https://www.youtube.com/feed/watch_later",$(".column-header-ch-link",d).attr("href",c)):($(".column-header-ch-link",d).attr("href",c),e.attr("data-src",g)))},Sb:function(b){for(var c in a.a)if(a.a[c].name===b)return c;return null},$e:function(b,c,d,e){if(!d||0>=d)d=15;if(0===a.b[b].length||a.N[b]!==c&&c!==a.b[b].length){a.N[b]=c;for(var g=a.b[b],f=[],h=[],l=[],n=0,k=c;k<g.length&&50>n;k++){var m=g[k].videoId||g[k].videoPlaylistId;m&&!a.o[m]?f.push(m):"youtube#channel"!==g[k].kind||
a.a[g[k].channelId]&&(!a.a[g[k].channelId]||a.a[g[k].channelId].videoCount)?"youtube#playlist"!==g[k].kind||a.a[g[k].playlistId]||h.push(g[k].playlistId):l.push(g[k].channelId);n++}0!==h.length?a.Ed(h,!0,{channelIds:l,subId:b,videoIds:f,from:c,count:d,addVideos:e,loadingIndicator:void 0}):0!==l.length?a.getChannelData(l,!0,!0,{subId:b,videoIds:f,from:c,count:d,addVideos:e,loadingIndicator:void 0}):0===f.length?a.Ab({items:[]},b,c,d,e,void 0):a.wa(b,f,c,d,e,void 0)}else!1!==a.C[b]&&(d=$("#"+b),a.B?
a.xa($(".mCSB_container",d)):a.xa($(".column-container",d)),!a.Ga[b]||a.Ga[b]<c+1)&&(a.Ga[b]=c+1,a.W(b,!1,c+1,!0))},wa:function(b,c,d,e,g,f,h,l,n,k){a.A("videos",{part:"snippet,status,statistics,contentDetails",maxResults:50,id:c.join(",")},function(m){if(0==m.items.length&&0<c.length){console.log("something is missing in response");for(var p=0;p<c.length;p++)-1==a.Vb.indexOf(c[p])&&a.Vb.push(c[p]);console.log("ignored videos",a.Vb)}a.Ab(m,b,d,e,g,f,h,l,n,k)})},Ab:function(b,c,d,e,g,f,h,l,n,k){if(b.items){for(var m=
0;m<b.items.length;m++){f=b.items[m];var p=f.id,q={hqVideoThumb:f.snippet&&f.snippet.thumbnails&&f.snippet.thumbnails.high?f.snippet.thumbnails.high.url:"",videoThumb:f.snippet&&f.snippet.thumbnails&&f.snippet.thumbnails["default"]?f.snippet.thumbnails["default"].url:"",videoLength:f.contentDetails&&f.contentDetails.duration?f.contentDetails.duration:0,videoTitle:f.snippet.title,videoDescription:f.snippet&&f.snippet.description?f.snippet.description:"",videoUpload:f.snippet.publishedAt,videoViewsCount:a.g(f,
"statistics/viewCount",0),videoUsername:f.snippet.channelTitle,channelId:f.snippet.channelId,videoUsernameUrl:"https://www.youtube.com/channel/"+a.g(f,"snippet/channelId",""),videoRestricted:f.status&&f.status.privacyStatus&&"public"!==f.status.privacyStatus?!0:!1,videoId:p,videoLikes:a.g(f,"statistics/likeCount",0),videoDislikes:a.g(f,"statistics/dislikeCount",0)};if(a.L(c)||a.O(c)||0===c.indexOf("allSubscriptions")||l)q.videoShowUsername=!0,q.videoChId=a.g(f,"snippet/channelId","");a.Pa[q.videoId]=
[];if(q.videoThumb){f=q.videoThumb.replace("default.jpg","");for(var r=1;4>r;r++)a.Pa[q.videoId].push(f+r+".jpg")}a.o[p]=q}if(l)a.Bb({items:[]},c,h,d,g,l,!0);else if(h)a.Hb(c);else if(k)k();else{r=$(".video-template")[0];b=$("#"+c);f=$("article.spinner-article",b);f.detach();g||a.wd();for(var z=a.H[c],q=0,t=a.b[c],B=[],u=d;u<t.length&&(50>B.length||a.L(c));u++){var p=t[u].videoId||t[u].videoPlaylistId,w=t[u].kind&&"youtube#channel"===t[u].kind,x=t[u].kind&&"youtube#playlist"===t[u].kind,v=t[u];if(a.a[c].isTopic||
t[u].loadDetails&&!w&&!x)v=a.o[p];if(!v){if(-1!=a.Vb.indexOf(p))continue;for(var C=[],m=u;m<t.length&&50>C.length;m++){var A=t[m],E=A.videoId||A.videoPlaylistId,w=t[u].kind&&"youtube#channel"===t[u].kind,x=t[u].kind&&"youtube#playlist"===t[u].kind;if(a.a[c].isTopic||A.loadDetails&&!w&&!x)A=a.o[E];A||C.push(E)}if(0<C.length){a.wa(c,C,d,e,g,f,h,l,n,k);return}}var m=w?a.Jc(v,r):x?a.Gf(v,r):a.yb(v,r,t[u].videoShowUsername,c,t[u].id),D;if(v.channelId||v.videoChId)D=a.H[v.channelId||v.videoChId],"allSubscriptions"==
c&&a.ha&&-1!=a.ha.indexOf(v.videoChId)&&$(m).addClass("hidden");!D||-1===$.inArray(p,D)||w||x?!z||-1===$.inArray(p,z)||w||x?q++:($(m).addClass("watched-video"),$(".video-watched-toggle",m).addClass("watched"),$(".video-watched-toggle",m).attr("title","Mark video as unwatched"),a.F?$(m).css("display","none"):q++):($(m).addClass("watched-video"),$(".video-watched-toggle",m).addClass("watched"),$(".video-watched-toggle",m).attr("title","Mark video as unwatched"),a.F?$(m).css("display","none"):q++);B.push(m);
if(q>=e)break}a.B?$(".mCSB_container",b).append(B):$(".column-container",b).append(B);a.h($(".column-container",b));0!==t.length||a.L(c)&&"watchLater"!=c||a.ia(c)||a.O(c)||0!==a.N[c]||(d={videoTitle:"!#CUSTOM#!",videoDescription:"This channel has restricted access to the videos. Please watch them on their channel.",videoId:"https://www.youtube.com/channel/"+a.a[c].username},"watchLater"==c&&(d.videoDescription="There are currently no videos in Watch Later playlist.",d.videoId="https://www.youtube.com/playlist?list=WL"),
m=a.yb(d,r),"watchLater"==c&&$(m).addClass("single-line"),d=a.B?$(".mCSB_container",b):$(".column-container",b),0===$(".info",d).length&&d.append(m));d=!1;"allSubscriptions"===c&&(d=0===$("#allSubscriptions").find(".video-template").filter(":visible").length?!0:!1);0===q||d?a.ma(c):a.Rb(c);a.gb(b)}}else console.log("no items",c,d)},Fa:function(b,c,d,e){if(a.ia(b)||a.a[b].isTopic||a.L(b)||a.Gc(b)||a.O(b))a.$e(b,c,d,e);else{d||(d=15);var g;if(0===a.b[b].length||a.N[b]!==c&&c!==a.b[b].length){a.N[b]=
c;var f=a.b[b],h=$(".video-template")[0],l=$("#"+b);g=$("article.spinner-article",l);g.detach();e||a.wd();g=a.H[b];e=0;for(var n=c;n<f.length;n++){var k=f[n];k.loadDetails&&(k=a.o[k.videoId]);c=a.yb(k,h,null,b);var m;k.videoChId&&(m=a.H[k.videoChId],"allSubscriptions"==b&&a.ha&&-1!=a.ha.indexOf(k.videoChId)&&$(c).addClass("hidden"));m&&-1!==$.inArray(k.videoId,m)?($(c).addClass("watched-video"),$(".video-watched-toggle",c).addClass("watched"),$(".video-watched-toggle",c).attr("title","Mark video as unwatched"),
a.F?$(c).css("display","none"):e++):g&&-1!==$.inArray(k.videoId,g)?($(c).addClass("watched-video"),$(".video-watched-toggle",c).addClass("watched"),$(".video-watched-toggle",c).attr("title","Mark video as unwatched"),a.F?$(c).css("display","none"):e++):e++;a.B?$(".mCSB_container",l).append(c):$(".column-container",l).append(c);if(e>=d)break}a.h($(".column-container",l));0!==f.length||a.L(b)||a.O(b)||0!==a.N[b]||(c=a.yb({videoTitle:"!#CUSTOM#!",videoDescription:"This channel has restricted access to the videos. Please watch them on their channel.",
videoId:"https://www.youtube.com/channel/"+a.a[b].username},h),d=a.B?$(".mCSB_container",l):$(".column-container",l),0===$(".info",d).length&&d.append(c));d=!1;"allSubscriptions"===b&&(d=0===$("#allSubscriptions").find(".video-template").filter(":visible").length?!0:!1);0===e||d?a.ma(b):a.Rb(b);a.gb(l)}else if(l=$("#"+b),a.B?a.xa($(".mCSB_container",l)):a.xa($(".column-container",l)),1E3<=c)g=$("article.spinner-article",l),$("div",g).append("<div class='limit-reached'>Limit of 1000 videos reached.</div>"),
g.css("height","90px");else if(!a.Ga[b]||a.Ga[b]<c+1)a.Ga[b]=c+1,a.W(b,!1,c+1,!0)}},wd:function(){a.td++;a.td!=a.w.length||a.$d||a.hf()},rg:function(b){if(a.Eb){a.$d=!0;if("bottom"==a.Eb.position){$("#container").css("bottom","92px");$(".promo-bottom").css("display","block");var c=document.createElement(a.j?"webview":"iframe");c.src=a.Eb.url+"?q="+encodeURIComponent(b.join(","));c.scrolling="no";$(".promo-bottom-content").append(c)}"left"==a.Eb.position&&($("#container").css("left","160px"),$(".promo-left").css("display",
"table"),c=document.createElement(a.j?"webview":"iframe"),c.src=a.Eb.url+"?q="+encodeURIComponent(b.join(",")),c.scrolling="no",$(".promo-left-content").append(c));$(".promo-bottom-close, .promo-left-close").click(function(){a.s("subscribe")});b=$(".promo-bottom webview, .promo-left webview");b.length&&b[0].addEventListener("newwindow",function(b){b.preventDefault();a.U(b.targetUrl)})}},dc:function(b){for(var c=0;c<b.length;c++){var d=$(b[c]),e=d.attr("data-src");e&&(a.I(d,e.toString()),d.removeAttr("data-src"),
d.removeClass("loading"))}},cc:function(){for(var b=$("#columns .column"),c=0;c<b.length;c++)a.gb($(b[c]))},gb:function(b){if(b.is(":visible")){b=$(".column-header-ch-link img, .video-thumb img",b);for(var c=0;c<b.length;c++){var d=$(b[c]);d.is(":visible")&&a.dc(d)}}},Ca:function(){for(var b=$(".sub-item-icon:visible"),c=0;c<b.length;c++){var d=$(b[c]);d.is(":appeared")&&a.dc(d)}},yb:function(b,c,d,e){c=c.cloneNode(!0);var g=$(".video-thumb img",c);if(!b)return console.log("NO SOURCE VIDEO"),null;
$(c).attr("data-id",b.videoId);g.attr("data-src",b.videoThumb);g=$(".video-thumb",c);g.attr("href",a.nb+b.videoId+a.cd);$(".video-length",c).text(a.zd(b.videoLength));var f=$(".video-title a",c);f.text(b.videoTitle);f.attr("href",a.nb+b.videoId+a.cd);f.attr("title",b.videoTitle);b.videoDescription&&$(".video-description",c).text(b.videoDescription.substring(0,200));var h=$(".video-upload",c);h.attr("title",b.videoUpload);h.timeago();h=$(".video-views-count",c);h.text(a.ra(b.videoViewsCount)+" views");
$(".video-liking",c).width(96*b.videoDislikes/(b.videoLikes+b.videoDislikes));"!#CUSTOM#!"===b.videoTitle&&(f.text(b.videoDescription),f.addClass("info"),h.css("display","none"),$(".video-thumb",c).css("display","none"),$(".video-watched-toggle",c).css("display","none"),$(".video-more",c).css("display","none"),g.attr("href",b.videoId),f.attr("href",b.videoId),$(c).addClass("error"));b.videoShowUsername||d?(d=$(".feed-entry-video-from-username",c),(g=a.a[b.channelId||b.videoChId])?(d.text(g.name),
d.attr("title",g.name),d.attr("href","https://www.youtube.com/channel/"+g.username),d.attr("data-sub-id",g.username)):(d.text(b.videoUsername),d.attr("title",b.videoUsername),d.attr("href","https://www.youtube.com/channel/"+(b.videoChId||b.channelId)),d.attr("data-sub-id",b.videoChId||b.channelId))):$(".feed-entry-video-username",c).css("display","none");b.videoRestricted&&$(c).attr("data-restricted",!0);(!1===b.videoTypeUpload&&"allSubscriptions"==e||a.i[b.videoUsernameId])&&$(c).addClass("hidden");
a.bb(c);return c},Jc:function(b,c){var d=b.channelId||b.videoChId,e=a.a[d];if(e&&0!==d.indexOf("SW")){d=c.cloneNode(!0);$(d).addClass("channel").attr("data-id",e.username);var g=$(".video-title a",d);g.text(e.name);g.attr("title",e.name);g.attr("href",a.ad+e.username);var f=$(".video-thumb img",d);f.attr("data-src",e.imageUrl);g=$(".video-thumb",d);g.attr("href",a.ad+e.username);f=$(f).clone();f.addClass("bg");g.prepend(f);e.description&&$(".video-description",d).text(e.description.substring(0,200));
$(".video-views-count",d).text(a.ra(e.videoCount)+" videos");g=$(".video-watched-toggle",d);g.html("<i class='icon-plus'></i>");g.attr("title","Add Channel to Deck");e.uploadsId||g.css("display","none");$(".video-length",d).html("Channel");g=$(".feed-entry-video-username",d);g.addClass("subscribe tooltip");g.html("<i class='icon-user-add'></i>");e.subscribed?(g.addClass("subscribed"),g.attr("title","Unsubscribe")):g.attr("title","Subscribe");f=$("<span class='subscription-count'></span>");f.html(a.ra(e.subscriberCount)+
" subscribers");g.after(f);a.bb(d);return d}console.log("no channel details or Show support",b)},Gf:function(b,c){var d=a.a[b.playlistId],e=c.cloneNode(!0);$(e).addClass("playlist").attr("data-id",b.playlistId);var g=$(".video-title a",e);g.text(d.name);g.attr("href",a.ve+b.playlistId);$(".video-thumb img",e).attr("data-src",d.imageUrl);$(".video-description",e).text(d.description);$(".video-thumb",e).attr("href",a.ve+b.playlistId);$(".video-views-count",e).text(a.ra(d.videoCount)+" videos");g=$(".feed-entry-video-from-username",
e);a.a[d.channelId]?g.text(a.a[d.channelId].name):g.text(d.channelId);g.attr("href",a.ad+d.channelId);g.attr("data-sub-id",d.channelId);d=$(".video-watched-toggle",e);d.html("<i class='icon-plus'></i>");d.attr("title","Add Playlist to Deck");$(".video-length",e).html("Playlist");a.bb(e);return e},tf:function(b){if($(b.target).hasClass("feed-entry-video-from-username"))return a.U(b.target.href),!1;b=$("a:first",this).attr("href");var c=$(this).parent().attr("data-restricted");if($(this).closest("article").hasClass("channel"))return 0==
$(this).parents("#modal-initsub").length&&a.U(b),!1;if($(this).closest("article").hasClass("playlist"))return b=$(this).closest("article").attr("data-id"),a.Cb(b,!0),!1;b&&a.se(b,c);return!1},Ce:function(b){a.c("AddColumnFromSearch","clicked");var c=!1,d=b.attr("data-id");b.hasClass("channel")||(c=!0);if(0<$("#"+d).length)a.Tb(d,!0);else{if(c){if(0!==a.ua&&2<=$(".playlist-column").length){a.s("subscribe");return}}else $("#modal-add-subs .sub-items .sub-item span[data-sub-id='"+d+"']").closest(".sub-item").css("display",
"none");a.sa(d,c?"playlist":"channel");a.ka()}},Mg:function(){var b=$(this).closest(".video-template");if(b.hasClass("channel")||b.hasClass("playlist"))return a.Ce(b),!1;a.Ma||a.c("Watched","clicked");var c=b.attr("data-id"),d=$(".video-template[data-id='"+c+"']");if(a.Ma&&$(".video-watched-toggle",d).hasClass("watched"))return!1;var e=b.closest(".column").attr("id");e||(e=b.closest("#search-column").attr("id"));d.toggleClass("watched-video");var g=$(".video-watched-toggle",d).toggleClass("watched");
g.hasClass("watched")?(g.attr("title","Mark video as unwatched"),a.kc(!0)):(g.attr("title","Mark video as watched"),a.kc(!1));g=!1;"search-column"===e&&(g=!0);if(a.O(e)||0===e.indexOf("allSubscriptions")||a.L(e)||a.ia(e)||0===e.indexOf("search-"))(e=$(".feed-entry-video-from-username",b).attr("data-sub-id"))||(e=a.o[c].channelId);a.F&&!g&&(a.Ma?(d.css("display","none"),a.h($(".column-container",$(this).closest(".column"))),a.ma($(this).closest(".column").attr("id"))):d.fadeOut("fast",function(){a.h($(".column-container",
$(this).closest(".column")));a.ma($(this).closest(".column").attr("id"))}));if(13<c.length)return!1;a.bc(e,c,$(this).hasClass("watched"));a.ae(c);return!1},Ue:function(){var b=$(this).attr("data-id");a.vf(b,$(this).parents(".comment"))},Se:function(){var b=$($(this).parents(".comment")[0]),c=b.attr("data-id");a.eg(c,b)},Te:function(){var b=$(this).attr("data-id"),c=$(".comment-write")[0],c=c.cloneNode(!0);$(".dropdown-wrapper",c).addClass("invisible");$(".comment-replies .comment-write").remove();
var d=$(this).parents(".comment:not(.reply)").children(".comment-replies, .comment-replies-holder");d.hasClass("comment-replies-holder")&&d.addClass("comment-replies").removeClass("comment-replies-holder");$(".comment-area",c).attr("placeholder","");$(".comment-post",c).text("Reply").bind("click",function(){var d=$(".comment-area",c).val();0<d.length&&($(".comment-post",c).html("Replying..."),a.Xf(d,b,c))});d.append(c);a.h($(".m-comments"))},Lg:function(){var b=$(this).attr("data-seek"),b=/T((\d*)h)?((\d*)m)?((\d*)s)?/g.exec(b);
a.u("seekTo",(parseInt(b[6],0)||0)+60*(parseInt(b[4],0)||0)+3600*(parseInt(b[2],0)||0));return!1},se:function(b,c){a.c("OpenVideo","clicked");"youtube"==a.ya||c||-1===b.indexOf("v=")?a.U(b):(b=b.substring(b.lastIndexOf("v=")+2),b=b.replace("&feature=youtube_video_deck",""),a.Cb(b))},jh:function(){0==a.$b&&a.ge();a.$b++;3==a.$b&&(a.$b=0)},Cb:function(b,c,d){a.c("OpenVideoInDeck","clicked");a.j&&!$("#modal-video").hasClass("docked")&&($("#ytPlayer")[0].src=a.Tf+(new Date).getTime());var e=$("#yt-container");
a.s("video");a.La();$(".start-overlay").removeClass("show");var g="";b&&(g+=b);d&&(g+=d.join(","));if(a.rc||a.j)a.j&&chrome.app.window.current().focus(),a.Kb!=g?(a.Kb=g,g=$(".m-shuffle").removeClass("active hide"),$(".m-loop").removeClass("active"),a.u("setLoop",!1),a.u("setShuffle",!1),c?a.u("loadPlaylist",{list:b,suggestedQuality:a.J}):void 0===d?(a.gc(b),g.addClass("hide"),a.u("loadVideoById",{videoId:b,suggestedQuality:a.J})):(a.gc(d[0]),a.u("loadPlaylist",d))):a.u("playVideo"),a.Ld()&&a.u("stopVideo");
else{a.Y&&!a.dd&&(a.Y.destroy(),a.Y=null);g=$("#ytPlayerOpen");0<g.length&&(g.remove(),e.append("<div id='ytPlayer'></div>"));a.dd=!0;g=e.width();e=e.height();0==g&&(g=399);var f={allowScriptAccess:"always",allowfullscreen:"true",wmode:"transparent"},h={id:"ytPlayerOpen"};c?(b=b.substring(2),swfobject.embedSWF("https://www.youtube.com/p/"+b+"?enablejsapi=1&playerapiid=player1&version=3&html5=1&autoplay=1&fs=1"+(a.J?"&vq="+a.J:"")+"&feature=youtube_video_deck","ytPlayer",g,e,"8",null,null,f,h),$("#modal-video").addClass("hide-video-info")):
(c="",d&&(b=d.shift(),c="&playlist="+d.join(",")),swfobject.embedSWF("https://www.youtube.com/v/"+b+"?enablejsapi=1&playerapiid=player1&version=3&html5=1&autoplay=1&fs=1"+(a.J?"&vq="+a.J:"")+"&feature=youtube_video_deck"+c,"ytPlayer",g,e,"8",null,null,f,h),a.Nc({data:1},b));a.La()}},gc:function(b,c){a.o[b]?(a.Vc(b,c),a.he(b),a.Wa&&a.Ha(a.D)):a.wa("",[b],null,null,null,null,null,null,null,function(){a.gc(b,c)})},he:function(b){if(a.o[b]){var c=a.o[b].channelId||a.o[b].videoChId;if(a.a[c]){var d=a.o[b],
e=$("#modal-video"),c=$(".m-description-text",e);$(".m-description-title",e).html(d.videoTitle);if(e=a.Jc(d,$(".video-template")[0]))$(".m-description-channel").empty().append(e),a.dc($("img",e));d=d.videoDescription;d=a.uf(d);c.html(d);a.B&&(c=$(".m-description-wrap"),c.hasClass("mCustomScrollbar")?a.h(c):$(".m-description-wrap").mCustomScrollbar(a.Za()))}else console.warn("channel id not loaded"),a.getChannelData(c,!0,!0,null,function(){a.he(b)})}},Vc:function(b,c){if(a.o[b]){$("#modal-video").removeClass("hide-video-info");
var d=a.o[b],e=$("#modal-video"),g=$(".m-like",e),f=$(".m-dislike",e);$(".m-like-num .num",e).html(a.ra(d.videoLikes));$(".m-dislike-num .num",e).html(a.ra(d.videoDislikes));$(".m-disliking",e).width(120*d.videoDislikes/(d.videoLikes+d.videoDislikes));$(".m-views .num",e).html(a.ra(d.videoViewsCount));a.D=b;c||(g.removeClass("check"),f.removeClass("check"),a.A("videos/getRating",{id:b},function(b){if(b.items)for(var c=0;c<b.items.length;c++){var d=b.items[c];d.videoId===a.D&&("like"===d.rating?g.addClass("check"):
"dislike"===d.rating&&f.addClass("check"))}}))}},ac:function(b,c){$.ajax({type:"POST",headers:{Authorization:"Bearer "+a.P},url:"https://www.googleapis.com/youtube/v3/videos/rate?id="+b+"&rating="+(1===c?"like":-1===c?"dislike":"none")+"&key="+a.pb[0],cache:!1,success:function(){},error:function(b){console.log("rate error",b)}})},Ha:function(b,c){if(a.qa)a.zf(b,c);else if(!a.Ea&&"-1"!==c){a.Ea=!0;var d="https://gdata.youtube.com/feeds/api/videos/"+b+"/comments?alt=json&max-results=50&inline=true&v=2.1"+
(a.Pb?"&orderby=published":"&relevant-to-me=true");c&&(d=c);a.X=b;$(".no-comments").remove();var e=a.vb(".m-comments");c||($(".comment",e).remove(),$(".comment-write",e).addClass("hide"));e.append("<div class='comment-loading'></div>");a.h($(".m-comments"));$.ajax({headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P},type:"GET",url:d,cache:!1,success:function(b){a.Ea=!1;a.Kf(b,c)},error:function(){a.Ea=!1;$(".m-comments .comment-loading").remove();$(".m-comments").append("<div class='no-comments comments-disabled'>Comments are disabled for this video.</div>")}})}},
vf:function(b,c){a.A("comments",{part:"snippet",maxResults:100,parentId:b},function(b){$(".comment-show-more",c).remove();for(var e=$(".comment-template")[0],g=0;g<b.items.length;g++){var f=b.items[g];$(".comment[data-id='"+f.id+"']",c).length||(f=a.xb(f,e,!0),$(".comment-replies",c).prepend(f))}a.h($(".m-comments"))})},zf:function(b,c){if(!a.Ea&&"-1"!==c){a.Ea=!0;var d={part:"snippet,replies",maxResults:100,videoId:b,order:"time",textFormat:"plainText"};a.Pb||(d.order="relevance");c&&(d.pageToken=
c);a.X=b;$(".no-comments").remove();var e=a.vb(".m-comments");c||($(".comment",e).remove(),$(".comment-write",e).addClass("hide"));e.append("<div class='comment-loading'></div>");a.h($(".m-comments"));a.A("commentThreads",d,function(b){a.Ea=!1;a.Lf(b,c)})}},Lf:function(b,c){var d=a.vb(".m-comments");$(".comment-loading",d).remove();$(".comment-write").removeClass("hide");var e=0;if(b&&b.items&&0<b.items.length){var g=$(".comment-template")[0],f=b.items;c||$(".comment",d).remove();b.nextPageToken?
a.ja=b.nextPageToken:a.ja="-1";for(var h=0;h<f.length;h++){var l=a.xb(f[h],g);l&&(d.append(l),e++)}}0===e&&0==$(".comment",d).length&&d.append("<div class='no-comments comment'>NO COMMENTS YET</div>");a.B&&(d.hasClass("mCSB_container")?a.h($(".m-comments")):d.mCustomScrollbar(a.Za({whileScrolling:function(){100==this.mcs.topPct&&a.Ha(a.X,a.ja)}})))},Kf:function(b,c){var d=a.vb(".m-comments");$(".comment-loading",d).remove();$(".comment-write").removeClass("hide");var e=0;if(b&&b.feed&&b.feed.entry){var g=
$(".comment-template")[0],f=b.feed.entry;c||$(".comment",d).remove();for(var h=b.feed.link,l=!1,n=0;n<h.length;n++)if("next"===h[n].rel){a.ja=h[n].href;l=!0;break}l||(a.ja="-1");for(h=0;h<f.length;h++)if(l=a.Rd(f[h],g))d.append(l),e++}0===e&&d.append("<div class='no-comments comment'>NO COMMENTS YET</div>");a.B&&(d.hasClass("mCSB_container")?a.h($(".m-comments")):d.mCustomScrollbar(a.Za({whileScrolling:function(){100==this.mcs.topPct&&a.Ha(a.X,a.ja)}})))},Yf:function(b){a.c("PostComment","clicked");
a.A("commentThreads",{part:"snippet"},function(b){$(".comment-area").val("");var d=$(".comment-template");b=a.xb(b,d[0]);$(".comment-write").after(b);a.h($(".m-comments"));$(".comment-post").html("Post comment")},"POST",{snippet:{channelId:a.o[a.X].channelId,videoId:a.X,topLevelComment:{snippet:{textOriginal:b}}}},!0)},eg:function(b,c){a.c("CommentRemove","clicked");a.A("comments",{id:b},function(){c.remove();a.h($(".m-comments"));a.pd()},"DELETE",null,!0)},Xf:function(b,c,d){a.c("PostReply","clicked");
a.A("comments",{part:"snippet"},function(b){var g=$(".comment-template");b=a.xb(b,g[0],!0);g=$(".comment[data-id='"+c+"']");d.remove();$(".comment-replies",g).append(b);a.h($(".m-comments"))},"POST",{snippet:{textOriginal:b,parentId:c}},!0)},Wf:function(b,c){a.qa?a.Yf(b,c):(a.c("PostComment","clicked"),a.la("https://gdata.youtube.com/feeds/api/videos/"+a.X+"/comments",a.fa(function(c){if(-1!==c.indexOf("linked_google_plus_account_required"))a.Uc("Warrning","Your account must be linked with Google Plus to post comment.<br/>You can link your account <a target='_blank' href='https://www.youtube.com/account'>here</a>.",
0,475);else if(-1!==c.indexOf("error"))a.Uc("Error","There was an error when posting your comment. Please try again later.",0,475);else{$(".comment-area").val("");c={content:{$t:b},author:[{yt$userId:{$t:a.username},name:{$t:a.displayName},uri:{$t:""}}],published:{$t:""+(new Date).toISOString()},yt$googlePlusUserId:{$t:""}};var e=$(".comment-template");c=a.Rd(c,e[0],!0);$(".comment-write").after(c);a.h($(".m-comments"))}$(".comment-post").html("Post comment")},a),{headers:{"X-GData-Key":"key="+a.da(),
Authorization:"Bearer "+a.P,"GData-Version":"2.1","Content-Type":"application/atom+xml"},method:"POST",body:'<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:yt="http://gdata.youtube.com/schemas/2007"><content>'+b+"</content></entry>"}))},Rd:function(b,c,d){if(b.content.$t){c=c.cloneNode(!0);$(c).removeClass("comment-template");$(c).addClass("comment");var e=$(".comment-thumb",c);a.I(e,"https://i2.ytimg.com/i/"+b.author[0].yt$userId.$t+"/1.jpg",!0);e=$(".comment-user",
c);e.html(b.author[0].name.$t);d?e.attr("href","https://www.youtube.com/channel/"+a.username):e.attr("href","https://www.youtube.com/profile_redirector/"+a.g(b,"yt$googlePlusUserId/$t",""));d=$(".comment-date",c);d.attr("title",b.published.$t);d.timeago();$(".comment-text",c).html(b.content.$t.replace(/\n\n/gm,"<br/><br/>").replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,"<a href='$1' target='_blank'>$1</a>"));$(".comment-like",c);return c}},xb:function(b,c,
d){if(b.snippet){var e=d?b:a.g(b,"snippet/topLevelComment"),g=a.g(e,"snippet/textDisplay","");if(g){var f=c.cloneNode(!0),f=$(f);f.removeClass("comment-template");f.addClass("comment");f.attr("data-id",e.id);d&&f.addClass("reply");var h=$(".comment-thumb",f);a.I(h,a.g(e,"snippet/authorProfileImageUrl"),!0);var l=$(".comment-user",f),h=a.g(e,"snippet/authorDisplayName");l.html(h);l.attr("href",a.g(e,"snippet/authorChannelUrl",""));l=$(".comment-date",f);l.attr("title",a.g(e,"snippet/publishedAt",""));
l.timeago();l=$(".comment-text",f);g=g.replace(/(href=")(http.*&amp;t=(.[^"]*)[^"]*)(")/g,'$1$2$4 class="seek-link" data-seek="T$3"');g=g.replace(/(href=")(http[^"]*)(")/g,'$1$2$3 target="_blank"');l.html(g);g=$(".comment-likes",f);l=a.g(e,"snippet/likeCount",0);0<l?g.html(l+" like"+(1<l?"s":"")):$(".comment-span",f).css("display","none");a.displayName==h&&$(".comment-remove",f).removeClass("hide");$(".comment-reply",f).attr("data-id",d?a.g(e,"snippet/parentId"):e.id);d=a.g(b,"replies/comments");
h=a.g(b,"snippet/totalReplyCount");if(d&&d.length)for(b=$(".comment-replies-holder",f),b.removeClass("comment-replies-holder").addClass("comment-replies"),d.length!=h&&b.append($("<a class='comment-show-more' data-id='"+e.id+"'>View all "+h+" replies <i class='arrow icon-chevron-right bottom'></i></a>")),e=0;e<d.length;e++)h=a.xb(d[e],c,!0),b.append(h);a.bb(f);return f}}},La:function(){var b=$("#modal-video");if(b.is(":visible")&&!b.hasClass("docked")){var c=Math.floor(.8*$(document).height()),d=
$(document).width(),e=Math.floor(.9*d),g=Math.floor(480*e/854),f=Math.floor(854*c/480);f<e?e=f:g<c&&(c=g);g=e;g>d-30-(a.ib?450:0)&&(e-=g-(d-30-(a.ib?450:0)));console.log("resize video dialog",e,c);a.j&&document.webkitCurrentFullScreenElement&&"ytPlayer"==document.webkitCurrentFullScreenElement.id&&(e=window.screen.width,c=window.screen.height,console.log("fullscreen rezise"));$(".m-content",b).css("width",e);$("#yt-container",b).css("height",c);a.j?($("#ytPlayer",b).css("height",c),$("#ytPlayer",
b).css("width",e)):a.dd?($("#ytPlayerOpen",b).attr("height",c),$("#ytPlayerOpen",b).attr("width",e)):($("#ytPlayer",b).attr("height",c),$("#ytPlayer",b).attr("width",e));null!=a.Y&&a.u("setSize",e,c);a.h($(".m-comments"))}},ra:function(b){var c=(b+"").split(".");b=c[0];for(var c=1<c.length?"."+c[1]:"",d=/(\d+)(\d{3})/;d.test(b);)b=b.replace(d,"$1,$2");return b+c},af:function(b){var c=b.match(/PT((\d*)H)?((\d*)M)?((\d*)S)?/);b=c[2]?parseInt(c[2],10):0;var d=c[4]?parseInt(c[4],10):0,c=c[6]?parseInt(c[6],
10):0;return(0<b?b+":":"")+(10>d&&0<b?"0"+d:d)+":"+(10>c?"0"+c:c)},zd:function(b){if(!b)return"";if(0===b.indexOf("PT"))return a.af(b);var c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60);b%=60;return(0<c?c+":":"")+(10>d&&0<c?"0"+d:d)+":"+(10>b?"0"+b:b)},ld:function(){$(document).bind("scroll",function(){window.scrollTo(0,0)});$(document).bind("click",function(b){a.rd(b)});$("#container").bind("scroll",function(){a.V()});$(".ytPlayer-fs").click(function(){$("#ytPlayer")[0].webkitRequestFullscreen()});
$(document).bind("keyup",function(b){27===b.keyCode&&($(".search-area").is(":focus")?($("#search").hasClass("show")&&a.Zc(),$(".search-area").val("").blur()):"ytPlayerOpen"!==$(b.target).attr("id")&&(b=$(".modal-dialog:visible").last(),0!==$("i.close",b).length&&a.ba(b)))});$(document).bind("keydown",function(b){var c=b.target.nodeName.toLowerCase();8!==b.which||"input"===c&&"text"===b.target.type||"textarea"===c||b.preventDefault();if(114===b.keyCode||b.ctrlKey&&70===b.keyCode)$(".search-area-wrapper").mouseenter(),
$(".search-area").focus(),b.preventDefault();27===b.keyCode&&(b=$(".modal-dialog:visible:not(.docked)"),0<b.length&&$(".m-close",b[b.length-1]).click())});$(document).bind("mousewheel",function(b){if(!a.Da){var c=$(b.target).closest(".column-container");if(!c.length||!a.Ec(c)){var c=$("#container")[0],d=Math.max(-1,Math.min(1,b.originalEvent.wheelDelta||-b.originalEvent.detail));if(a.cb()&&!a.rf()){if(0==d)return;c.scrollLeft=0>d?c.scrollLeft-(a.cb()?40:140):c.scrollLeft+(a.cb()?40:140)}else{if(0==
b.originalEvent.deltaY)return;c.scrollLeft=0>b.originalEvent.deltaY?c.scrollLeft-(a.cb()?40:140):c.scrollLeft+(a.cb()?40:140)}return!1}}});$(document).bind("click",function(){a.V()});$(".nav-header nav h1").bind("click",function(){a.U("https://www.youtube.com")});$(".sub-items-container, .all-sub-items-container").bind("scroll",function(){a.Ca()});$(window).resize(function(){a.Ya();a.cc();a.La();a.Wa&&a.h($(".m-comments"));a.rb&&a.h($(".m-description-wrap"))});$(".container").bind("scroll",function(){a.cc()});
$(".reload-item a").click(function(){a.reload()});$(".pro-badge, .pro-menu").click(function(){a.Ie();return!1});document.addEventListener("webkitfullscreenchange",function(){var b=$("#ytPlayer");if(b){var b=b[0].getBoundingClientRect(),c=document.documentElement.getBoundingClientRect();a.Kd=b.width==c.width&&b.height==c.height}},!1);a.B&&($("#modal-custom-columns .sub-items-container, .custom-column-items-container, #modal-add-subs .sub-items-container, #modal-add-playlist .sub-items-container, #modal-playlists .sub-items-container, .all-sub-items-container").mCustomScrollbar(a.Za({onScroll:function(){a.Ca()}})),
$("#search .column-container").mCustomScrollbar(a.Za({whileScrolling:function(){100==this.mcs.topPct&&a.yc(this)}})));a.j&&(chrome.app.window.current().isMaximized()&&$(".window-maximize").addClass("window-maximized").removeClass("window-maximize"),$(".window-close").click(function(){var b=chrome.app.window.current();a.backend.closeYTVD();b.close()}),$(document).on("click",".window-maximize",function(){chrome.app.window.current().maximize();$(".window-maximize").addClass("window-maximized").removeClass("window-maximize")}),
$(document).on("click",".window-maximized",function(){chrome.app.window.current().restore();$(".window-maximized").addClass("window-maximize").removeClass("window-maximized")}),$(".window-minimize").click(function(){chrome.app.window.current().minimize()}),$(".policy a").click(function(){var b=$(this).attr("href");a.U(b);return!1}),window.addEventListener("message",function(b){console.log("message",b);if(b.data&&"onPlayerStateChange"==b.data.functionName)a.Nc({data:b.data.arg1},b.data.arg2);else if(b.data&&
"fullscreenExit"==b.data.functionName)chrome.app.window.current().restore();else if(b.data&&"callback"==b.data.functionName){console.log("dejansko kliče neki nazaj",b);var c=a.ed[b.data.callbackId];c&&(c(b.data.result),delete a.ed[b.data.callbackId])}},!1));$(".search-close").bind("click",function(){a.c("CloseSearch","clicked");$(".search-area").val("");a.Zc();$(".search-area-wrapper").removeClass("active");return!1});$(".btn-add-sub").bind("click",function(){a.c("AddColumn","clicked");a.s("add-subs");
a.be();a.lc("menu-add-subs");return!1});$(".btn-add-custom").bind("click",function(){a.c("AddCustomColumn","clicked");a.s("custom-columns");a.h($("#modal-custom-columns .sub-items-container"))});$(".btn-add-playlist").bind("click",function(){a.c("AddPlaylist","clicked");a.s("add-playlist");a.h($("#modal-add-playlist .sub-items-container"))});$(".btn-add-watch-later").bind("click",function(){a.c("AddWatchLater","clicked");0<$("#watchLater").length?a.Tb("watchLater",!0):(a.Aa["watch-later"]={id:"watchLater",
name:"Watch Later",username:a.a["default"].username},a.qe("watch-later"))});var b=$(".btn-hide-watched");b.bind("click",function(){$(this).hasClass("checked")?a.Jd():a.confirm("hideWatched","By enabling this feature you won't be able to scroll infinitely and old unwatched channel videos won't load.<br><br> If you wish to scroll through all channel videos you will have to disable this feature first.",!0,function(){a.Jd()},!0,410);return!1});$(".user-login").click(function(){a.c("Login","clicked");
a.Ef();return!1});$("#med-menu > a").click(function(){a.c("AddMenuBtn","clicked");$(".main-menu-items").toggleClass("show");var b=$("#med-menu");b.toggleClass("active");var c=$("#empty-msg");b.hasClass("active")&&c.is(":visible")?c.addClass("hidden"):c.hasClass("hidden")&&c.removeClass("hidden");a.V();return!1});$(".user-data .menu-btn").click(function(){var b=$(this).parent();a.c("UserMenuBtn","clicked");$(".menu-items",b).toggleClass("show");$(".menu-arrow",b).toggleClass("up");$(this).toggleClass("active");
a.V();return!1});var c=$(".search-area");c.keypress(function(b){if(13==b.keyCode)return b.preventDefault(),c.blur(),a.C["search-column"]=null,a.eb("search-column"),c.focus(),!1});var d=c.autocomplete({select:function(){a.C["search-column"]=null;a.eb("search-column")},minLength:2,source:function(b,c){$.ajax({url:a.j?"https://beta-youtube.videodeck.net/search":"https://clients1.google.com/complete/search",dataType:a.j?"json":"jsonp",data:{client:"youtube",hl:"en",gl:"us",gs_ri:"youtube",q:b.term},success:function(b){c($.map(b[1],
function(b){return{label:b[0],value:b[0]}}))},messages:{noResults:"",results:function(){}}})},open:function(){c.addClass("open")},close:function(){c.removeClass("open")}}).data("ui-autocomplete");d&&(d._renderItem=function(b,d){var e=c.val(),f="";-1!=d.label.indexOf(e)?(f=d.label.substring(0,e.length),e=d.label.substring(e.length)):e=d.label;return $("<li>").attr("data-value",d.value).append($("<a>").html(f?"<span>"+f+"</span><span class='bold'>"+e+"</span>":d.label)).appendTo(b)});var e=$(".search-area-wrapper");
e.mouseenter(function(){$("#search").hasClass("show")||e.addClass("active")});e.mouseleave(function(){$("#search").hasClass("show")||c.is(":focus")||(e.removeClass("active"),c.val(""))});e.focusout(function(){if(!$("#search").hasClass("show")&&0===c.val().length)return e.removeClass("active"),c.val(""),!1});$(".search-btn").click(function(){a.C["search-column"]=null;a.eb("search-column");return!1});$(".search-filters").click(function(){a.c("SearchFiltersBtn","clicked");a.V();$(this).toggleClass("checked");
$(".filters-area").toggleClass("show");$(".search-results .column-holder").toggleClass("filtersOn");return!1});$(".search-add-column").click(function(){a.c("SearchAddColumn","clicked");console.log("adding search column",a.Z);if(0!==a.ua&&1<=$(".search-column").length)a.s("subscribe");else{var b={},c;for(c in a.Z)a.Z[c]&&("publishedAfter"==c?b.uploadDate=$("li a[data-filtercat='publishedAfter'].selected").attr("data-filterparam"):b[c]=a.Z[c]);c=$("textarea.search-area").val();var d=a.Dc();a.a[d]={icon:"icon-search-find",
name:"Search: "+c,username:d};console.log("filters",b);a.sa(d,"search",void 0,{searchQuery:c,uploadDate:b.uploadDate,resultType:b.type,features:{hd:"high"==b.videoDefinition?!0:!1,closedCaptions:"closedCaption"==b.videoCaption?!0:!1,creativeCommons:"creativeCommon"==b.videoLicense?!0:!1,threeD:"3d"==b.videoDimension?!0:!1,live:"live"==b.eventType?!0:!1},duration:b.videoDuration?b.videoDuration+"Duration":null,sortBy:b.order});return!1}});var g=$(".menu-add-btn");g.click(function(){console.log("click on add btn");
var b=$(this).parent();a.c("AddMenuBtn","clicked");$(".menu-items",b).toggleClass("show");$(this).toggleClass("active");a.V();a.lc("menu-add-open");return!1});$(".menu-add-btn2").click(function(){g.click();return!1});$(".menu-subscribe-btn").click(a.me);$(".user-settings").click(function(){a.c("UserSettings","clicked");a.s("settings");return!1});$(".user-actions").click(function(){a.c("UserActions","clicked");a.s("actions");return!1});$(".user-guide").click(function(){a.c("UserGuide","clicked");$("#container")[0].scrollTop=
0;a.m.show("tour1-step1");return!1});$(".user-feedback").click(function(){a.c("UserFeedback","clicked");a.U(a.K("/feedback",!0));return!1});$(".user-blog").click(function(){a.c("BlogLink","clicked");a.U("http://blog.videodeck.net/");return!1});$(".user-about").click(function(){a.c("UserAbout","clicked");a.s("about");return!1});$(".user-logout, .logout-link").click(function(){a.c("Logout","clicked");a.Ic();return!1});$(".user-profile").click(function(){a.c("User Profile","clicked");a.U("https://www.youtube.com/channel/"+
a.username);return!1});$(".filters-column li a").click(function(){var b=$(this),c=b.attr("data-filterCat"),d=b.attr("data-filterParam"),e=!1,f=b.closest(".filters-column");b.hasClass("selected")?(a.Z[c]=null,f.hasClass("sortby")||(e=!0)):("publishedAfter"===c&&(d=a.Fd(d)),"type"===c?(a.Z.videoType=null,a.Z.channelType=null):"channelType"===c?a.Z.videoType=null:"videoType"===c&&(a.Z.channelType=null),a.Z[c]=d);f.hasClass("features")?e=!1:$("li a",f).removeClass("selected");e||b.toggleClass("selected");
$(".filters-clear").removeClass("hide");a.C["search-column"]=null;a.eb("search-column");return!1});$(".filters-clear").click(function(){$(".filters-column li a").removeClass("selected");$(".filters-column li a[data-filterparam=relevance]").addClass("selected");$(".filters-clear").addClass("hide");a.Z={};a.C["search-column"]=null;a.eb("search-column")});a.F&&(a.kb=!0,b.click(),a.kb=!1);var f=$("#columns");f.sortable({handle:".column-header",cursor:"move",forceHelperSize:"true",scroll:"true",delay:150,
forcePlaceholderSizeType:"true",tolerance:"pointer",placeholder:"column",sort:function(){f.sortable("refreshPositions")},start:function(b,c){if(!a.Da){var d=$(".shown-column");f.css("width",d.length*d.width())}var d=c.item[0].className,e=$(c.item[0]).css("height");$(c.placeholder).addClass(d);$(c.placeholder).css("height",e.toString());a.V();a.Wc=!0},stop:function(){a.Wc=!1;f.css("width","")},update:function(b,c){$(c.item[0]).css("height");a.ka()}});$(".menu-watch-later").click(function(){a.c("Watch Later",
"clicked");a.Ee(a.Wb)});$(".menu-remove-from-playlist").click(function(){a.c("Remove from playlist","clicked");a.fg(a.Wb)});$(".menu-share-links li").click(function(){var b=$("span",this).attr("class").substring(12);a.c("Share-"+b,"clicked");a.pg(a.Wb,b)});b=$("webview#ytPlayer");0<b.length&&b[0].addEventListener("newwindow",function(b){a.U(b.targetUrl)});$(".next-video").click(function(){$(this).removeClass("show");a.u("nextVideo")});a.bb(document.documentElement);$(document).on("click",".video-watched-toggle",
a.Mg);$(document).on("click",".video-container",a.tf);$(document).on("click",".video-more",a.Hf);$(document).on("mouseenter",".video-template",a.Cg);$(document).on("mouseleave",".video-template",a.Dg);$(document).on("click",".subscribe",a.zg);$(document).on("click",".m-description-text a",a.We);$(document).on("click","a.seek-link",a.Lg);$(document).on("click","a.comment-reply",a.Te);$(document).on("click",".comment-remove",a.Se);$(document).on("click",".comment-show-more",a.Ue);$(document).on("click",
".column-prev-btn",a.Pe);$(document).on("click",".column-next-btn",a.Me);$(document).on("click",".column-options-btn",a.Ne);$(document).on("click",".column-play-btn",a.Oe);$(document).on("click",".column-close-btn",a.Ke);$(document).on("click",".column-watched-btn",a.Re);$(document).on("click",".column-header-ch-link",a.Le);$(document).on("click",".column-sort-btn",a.Qe);$(document).on("click",".btn-subscribe2",a.yg)},bb:function(b){a.sf()||$(".tooltip",b).tipsy({fade:!1,gravity:function(){var b=
$(this),d=b.offset().top>$(document).scrollTop()+$(window).height()/2?"s":"n",b=b[0].getBoundingClientRect();50>b.left&&(d+="w");75>$(window).width()-b.left&&(d+="e");return d},title:function(){var b=$(this);return b.hasClass("show")||b.hasClass("active")||a.Wc?"":b.attr("original-title")}})},pd:function(){$(".tipsy").remove()},Jd:function(){a.c("HideWatched","clicked");var b=$("li.btn-hide-watched");b.toggleClass("checked");a.F=!a.F;a.F?($(".menu-watched-icon",b).addClass("icon-eye-slash-close"),
$(".menu-watched-icon",b).removeClass("icon-eye"),$(".menu-watched-btn",b).attr("title","Show watched videos")):($(".menu-watched-icon",b).addClass("icon-eye"),$(".menu-watched-icon",b).removeClass("icon-eye-slash-close"),$(".menu-watched-btn",b).attr("title","Hide watched videos"));a.Zd();a.kb||a.G();a.cc();a.V()},Za:function(b){return{scrollInertia:0,alwaysShowScrollbar:1,advanced:{updateOnSelectorChange:!1,updateOnImageLoad:!1,updateOnContentResize:!1},callbacks:b,mouseWheel:{scrollAmount:a.cb()?
1:50,preventDefault:!0}}},Fd:function(b){var c=new Date;"hour"===b?c.setHours(c.getHours()-1):"day"===b?c.setDate(c.getDate()-1):"week"===b?c.setDate(c.getDate()-7):"month"===b?c.setMonth(c.getMonth()-1):"year"===b&&c.setFullYear(c.getYear()-1);return c.toISOString()},Tb:function(b,c){var d=$("#"+b);a.Ac.push(b);var e=$("#container");c?e.scrollTo(d,{offsetTop:150,horizontal:e.hasClass("h-scroll")},a.ke):a.ke()},ke:function(){$("#"+a.Ac[0]).addClass("focus");setTimeout(a.Fg,500)},Fg:function(){var b=
a.Ac.shift();$("#"+b).removeClass("focus")},sg:function(){a.Qc||0===a.ua||(a.Qc=setTimeout(a.vg,4E4+Math.floor(4E4*Math.random())))},vg:function(){a.Qc=null;a.Kd&&(a.ge(!0),a.sg())},oh:function(){if(a.Ka&&0<a.Ka.length){for(var b=0;b<a.Ka.length;b++)chrome.tabs.remove(a.Ka[b].id,function(){});a.Ka=null;a.Ka=[]}},Fe:function(b){b.videoId||y("videoUrl is null:addVideoToWatchLater",b);a.A("playlistItems",{part:"snippet"},function(){a.i.watchLater&&(a.b.watchLater=null,a.N.watchLater=null,a.W("watchLater",
0))},"POST",{snippet:{playlistId:a.Qa,resourceId:{videoId:b.videoId,kind:"youtube#video",startAt:1,endAt:1}}},!0)},Ee:function(b){b.videoId||y("videoUrl is null:addVideoToWatchLater",b);a.qa?a.Fe(b):a.la("https://gdata.youtube.com/feeds/api/users/default/watch_later",a.fa(function(){a.i.watchLater&&(a.b.watchLater=null,a.N.watchLater=null,a.W("watchLater",0))},a),{headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P,"GData-Version":"2.1","Content-Type":"application/atom+xml"},method:"POST",
body:'<?xml version="1.0" encoding="UTF-8"?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:yt="http://gdata.youtube.com/schemas/2007"><id>'+b.videoId+"</id></entry>"})},Gg:function(b){a.a[b].subscriptionId&&a.A("subscriptions",{id:a.a[b].subscriptionId},function(){a.dg(b)},"DELETE",null,!0)},Ag:function(b){a.A("subscriptions",{part:"snippet"},function(b){console.log("subscribe",b);a.Ae(b)},"POST",{snippet:{resourceId:{channelId:b}}},!0)},dg:function(b){a.a[b].subscribed=!1;var c=a.ca.indexOf(b);
-1<c&&a.ca.splice(c,1);a.fc&&a.$c();c=$("#modal-add-subs .sub-items, #modal-add-playlist .playlist-sub-items, #modal-add-custom-column .all-sub-items");b=$("span[data-sub-id='"+b+"']",c);if(0<b.length)for(c=0;c<b.length;c++)$(b[c]).closest(".sub-item").remove()},Ae:function(b){var c=$("#modal-add-subs .sub-items"),d=$(".sub-item",c),e=d.last()[0].cloneNode(!0),g=a.g(b,"snippet/resourceId/channelId",""),f=a.a[g];a.a[g].subscribed=!0;a.a[g].subscriptionId=b.id;-1==a.ca.indexOf(g)&&a.ca.push(g);a.fc&&
a.$c();b=$("span",e);b.text(f.name);b.attr("data-sub-id",g);$(".sub-item-icon",e).attr("data-src",f.imageUrl);$("a",e).attr("title",f.name);f=f.name.toLowerCase();$(e).css("display","");b=!1;for(var h=1;h<d.length;h++)if($("span",d[h]).html().toLowerCase()<f){b=!0;$(d[h]).before(e);$("#modal-add-playlist .playlist-sub-items .sub-item").eq(h).before(e.cloneNode(!0));$("#modal-add-custom-column .all-sub-items .sub-item").eq(h-1).before(e.cloneNode(!0));break}b||(c.append(e),$("#modal-add-playlist .playlist-sub-items").append(e.cloneNode(!0)),
$("#modal-add-custom-column .all-sub-items").append(e.cloneNode(!0)));a.i[g]&&$(e).css("display","none");$(".no-results",c).remove()},gg:function(b){b&&a.A("playlistItems",{id:a.oc[a.Qa][b.videoId]},function(){$("#watchLater article[data-id='"+b.videoId+"']").remove()},"DELETE",null,!0)},fg:function(b){a.qa?a.gg(b):b&&b.videoPlaylistId&&a.la("https://gdata.youtube.com/feeds/api/users/default/watch_later/"+b.videoPlaylistId,a.fa(function(c){if("string"===typeof c)try{JSON.parse(c)}catch(e){-1!==c.indexOf("Error 401")&&
(a.T=!0,a.getToken(!0));console.log("ERROR watch later removing");return}c=$("#watchLater article[data-id='"+b.videoId+"']");var d=c.closest(".column").attr("id");c.remove();a.ma(d)},a),{headers:{"X-GData-Key":"key="+a.da(),Authorization:"Bearer "+a.P,"GData-Version":"2","Content-Type":"application/atom+xml"},method:"DELETE",body:""})},ge:function(b){if(0!==a.ua)if(a.B||a.j)if(a.j)window.open("http://promo.videodeck.net/redirect","_blank"),chrome.app.window.current().focus();else{var c=document.documentElement.getBoundingClientRect(),
c={width:c.width,height:c.height};window.open("http://promo.videodeck.net/redirect","_blank",["toolbar=no","location="+(window.opera?"no":"yes"),"directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no","width="+c.width,"height="+c.height,"top="+(window.screen.height-c.height)/2,"left="+(window.screen.width-c.width)/2].join()).blur();window.focus()}else chrome.tabs.getCurrent(function(c){chrome.tabs.create({url:"http://promo.videodeck.net/redirect",active:!1,index:c.index,
windowId:c.windowId},function(c){b&&(a.Ka.push(c),setTimeout(function(){chrome.tabs.remove(c.id,function(){console.log("closed",arguments)})},1E4+Math.floor(5E3*Math.random())))})})},pg:function(b,c){var d;b.loadDetails&&(b=a.o[b.videoId]);var e=null;switch(c){case "fb":d="https://www.facebook.com/dialog/feed?app_id=460089340724309&link=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck&display=popup&redirect_uri=https%3A%2F%2Fwww.facebook.com";e={height:306,width:650};
break;case "tw":d="https://twitter.com/share?url=http%3A%2F%2Fyoutu.be%2F"+b.videoId+"&text="+encodeURI(b.videoTitle)+"%3A&via=ytvideodeck";e={height:650,width:1024};break;case "gp":d="https://plus.google.com/u/0/share?url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck&source=youtube_video_deck";e={height:620,width:620};break;case "tb":d="https://www.tumblr.com/share?v=3&u=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck";
e={height:650,width:1024};break;case "bl":d="https://www.blogger.com/blog-this.g?n="+encodeURI(b.videoTitle)+"&source=youtube&b=%3Ciframe+width%3D%22480%22+height%3D%22270%22+src%3D%22http%3A%2F%2Fwww.youtube.com%2Fembed%2F"+b.videoId+"%22+frameborder%3D%220%22+allowfullscreen%3E%3C%2Fiframe%3E&eurl=https%3A%2F%2Fi.ytimg.com%2Fvi%2F+"+b.videoId+"+%2Fhqdefault.jpg";e={height:468,width:768};break;case "rd":d="https://reddit.com/submit?url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck&title="+
encodeURI(b.videoTitle);e={height:650,width:1024};break;case "li":d="https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck&title="+encodeURI(b.videoTitle)+"&summary="+encodeURI(b.videoDescription)+"...&source=videodeck.net";e={height:650,width:1024};break;case "pt":d="https://pinterest.com/pin/create/bookmarklet/?url=http%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D"+b.videoId+"%26feature%3Dyoutube_video_deck&title="+encodeURI(b.videoTitle)+
"&description="+encodeURI(b.videoDescription)+"...&is_video=true&media=https%3A%2F%2Fi.ytimg.com%2Fvi%2F"+b.videoId+"%2Fhqdefault.jpg";e={height:650,width:1024};break;default:d="unknown"}window.open(d,"_blank",["toolbar=no","location="+(window.opera?"no":"yes"),"directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no","width="+e.width,"height="+e.height,"top="+(window.screen.height-e.height)/2,"left="+(window.screen.width-e.width)/2].join()).focus()},me:function(){a.c("Subscribe",
"clicked");a.s("subscribe");return!1},yg:function(){$("#modal-msg").hide();a.me();return!1},Pe:function(){a.c("PrevArrow","clicked");var b=$(this).closest(".column"),c=b.parent().children(),d=c.index(b);0<d&&(b.detach(),b.insertBefore(c[d-1]),a.ka())},Me:function(){a.c("NextArrow","clicked");var b=$(this).closest(".column"),c=b.parent().children(),d=c.index(b);d<c.length-1&&(b.detach(),b.insertAfter(c[d+1]),a.ka())},Ne:function(){a.c("ColumnOptions","clicked");var b=$(this).closest(".column"),c=$(".column-options",
b).toggleClass("show");c.hasClass("show")?$(this).attr("title","Hide options"):$(this).attr("title","Show options");$(".column-container",b).toggleClass("options-open");$(".column-header",b).toggleClass("options-open");c.hasClass("show")&&a.m.getCurrentStep()&&"tour1-step5"==a.m.getCurrentStep().id&&a.lc("column-options-open")},Oe:function(){a.c("PlayAll","clicked");var b=$(this).closest(".column");if(b.hasClass("playlist-column")){for(var b=b.attr("id"),c=[],d=a.b[b],b=0;b<d.length;b++){var e=d[b];
if(a.Ja||a.F){var g=a.H[e.videoChId];if(g&&-1!=g.indexOf(e.videoId))continue}c.push(e.videoId)}a.Ia&&(c=c.reverse());100<c.length&&c.splice(100,c.length-100);0<c.length?a.Cb(null,!1,c):a.confirm("zeroItemsToPlay","No videos listed in column or all videos are marked as watched.",!1,null,!0)}else{c=$(".video-template:not(.error, .channel, .playlist, .hidden)",b);if(a.Ja||a.F)c=c.filter(":not(.watched-video)");d=[];for(b=0;b<c.length;b++)e=$(c[b]).attr("data-id"),d.push(e);0<d.length?(a.Ia&&(d=d.reverse()),
100<d.length&&d.splice(100,d.length-100),a.Cb(null,!1,d)):a.confirm("zeroItemsToPlay","No videos listed in column or all videos are marked as watched.",!1,null,!0)}},Ke:function(){var b=$(this).closest(".column");a.confirm("removeColumn","Are you sure you want to remove the column?",!0,function(){a.c("CloseColumn","clicked");$('.sub-item span[data-sub-id="'+b.attr("id")+'"]').parent().parent().css("display","");a.pd();$("#modal-add-subs .no-results").remove();b.fadeOut("fast",function(){var c=b.attr("id");
a.O(c)&&($(".custom-sub-item[data-column-id='"+c+"']").remove(),a.h($("#modal-custom-columns .sub-items-container")));b.detach();a.N[b.attr("id")]=null;a.Ya();a.ka()})})},Re:function(){var b=$(this).closest(".column");a.confirm("markAsWatched","Are you sure you want to mark all videos as watched?",!0,function(){a.c("WatchedColumn","clicked");var c=b.attr("id");a.Ma=!0;$(".video-template:not(.error,.channel,.playlist):visible .video-watched-toggle",b).click();var d=a.b[c];if(d){for(var e=0;e<d.length;e++)-1==
["youtube#channel","youtube#playlist"].indexOf(d[e].kind)&&(d[e].videoChId?a.bc(d[e].videoChId,d[e].videoId,!0):a.o[d[e].videoId]&&(a.o[d[e].videoId].videoChId||a.o[d[e].videoId].channelId)?a.bc(a.o[d[e].videoId].videoChId||a.o[d[e].videoId].channelId,d[e].videoId,!0):a.bc(c,d[e].videoId,!0));a.Ma=!1;a.kg(a.mb,!0);a.pe();for(e=0;e<a.mb.length;e++)a.ma(a.mb[e]);a.mb=[]}})},Le:function(){a.c("ChannelLink","clicked");var b=$(this),c=b.attr("href");c?a.U(c):(b=b.closest(".column").attr("id"),a.O(b)&&
(c=$("#modal-custom-columns .sub-items-container .sub-items"),$(".custom-sub-item[data-column-id='"+b+"']",c).click()));return!1},Qe:function(){var b=$(this).closest(".column"),c=b.attr("id");a.c("SortColumn","clicked");var d=a.i[c].ordered,e=$(".column-sort-btn-icon",b);d&&"defaultDescending"!=d?"defaultAscending"==d?(d="uploadDateDescending",e.removeClass("icon-arrow-up"),e.addClass("icon-sort-numeric"),a.b[c].sort(a.na).reverse()):"uploadDateDescending"==d?(d="uploadDateAscending",e.removeClass("icon-sort-numeric"),
e.addClass("icon-sort-numeric-two"),a.b[c].sort(a.na)):"uploadDateAscending"==d?(d="viewCountDescending",e.removeClass("icon-sort-numeric-two"),e.addClass("icon-sort-amount"),a.b[c].sort(a.jc).reverse()):"viewCountDescending"==d?(d="viewCountAscending",e.removeClass("icon-sort-amount"),e.addClass("icon-sort-amount-two"),a.b[c].sort(a.jc)):"viewCountAscending"==d?(d="alphabeticalDescending",e.removeClass("icon-sort-amount-two"),e.addClass("icon-sort-alpha"),a.b[c].sort(a.ic).reverse()):"alphabeticalDescending"==
d?(d="alphabeticalAscending",e.removeClass("icon-sort-alpha"),e.addClass("icon-sort-alpha-two"),a.b[c].sort(a.ic)):"alphabeticalAscending"==d&&(d="defaultDescending",e.removeClass("icon-sort-alpha-two"),e.addClass("icon-arrow-down"),a.b[c].sort(a.hc).reverse()):(d="defaultAscending",e.removeClass("icon-arrow-down"),e.addClass("icon-arrow-up"),a.b[c].sort(a.hc));a.i[c].ordered=d;a.ka();a.N[c]=void 0;$(".video-template",b).remove();a.Fa(c,0,!1,!1)},V:function(){a.Kc&&($(".more-menu-template").removeClass("show"),
$(".video-more.show").removeClass("show"),a.Kc=!1)},Cg:function(){var b=$(".video-thumb img",this),c=$(this).attr("data-id");if(c=a.Pa[c]){for(var d=b.parent(),e=0;e<c.length;e++){var g=$("<img class='thumb-seq' src='"+a.ea()+"img/blank.gif'/>").appendTo(d);a.I(g,c[e])}a.oa=b.parent();$(".video-thumb > div",this).css("margin-left",0);a.Jb=setTimeout(a.ne,2E3)}},Dg:function(){clearInterval(a.Jb);a.Jb=null;$(".video-thumb img.thumb-seq",this);a.oa&&(a.oa.css("margin-left",0),a.oa=null);$(".video-thumb > div",
this).css("margin-left",0)},ne:function(){for(var b=$("img",a.oa),c=!0,d=0;d<b.length;d++)if("img/blank.gif"===$(b[d]).attr("src")){c=!1;break}if(c){if(!a.oa)return;-426<parseInt(a.oa.css("margin-left").replace("px",""),10)?$(a.oa).animate({"margin-left":"+=-142px"},"fast",function(){a.Jb||$(this).css("margin-left",0)}):$(a.oa).animate({"margin-left":"0px"},"fast")}a.Jb=setTimeout(a.ne,2E3)},We:function(){var b=$(this).attr("href");if(b=/(?:https?:\/\/)?(?:www\.)?youtu(.be\/|be\.com\/watch\?v=)(.{8,})/g.exec(b))return a.Cb(b[2].split("&")[0].split("#")[0],
!1),!1},zg:function(){a.c("Subscribe","clicked");var b=$(this),c=b.closest(".channel").attr("data-id");b.hasClass("subscribed")?(a.Gg(c),b.removeClass("subscribed"),b.attr("title","Subscribe")):(a.Ag(c),b.addClass("subscribed"),b.attr("title","Unsubscribe"));return!1},Hf:function(){a.c("More","clicked");var b=$(".more-menu-template"),c=$(this),d=c.offset();b.addClass("show");$(".video-more").removeClass("show");c.addClass("show");var e=b[0].getBoundingClientRect();a.Kc=!0;d.left+300>document.documentElement.getBoundingClientRect().width?
(b.addClass("right"),d.left-=126):b.removeClass("right");d.top+180>document.documentElement.getBoundingClientRect().height?(b.addClass("top"),d.top=d.top-e.height-45):b.removeClass("top");b.css("top",d.top+36);b.css("left",d.left+1);b=c.closest(".video-template").attr("data-id");(d=c.closest(".column").attr("id"))||(d=c.closest("#search-column").attr("id"));a.Wb=a.jf(d,b);"watchLater"===d?($(".more-menu .menu-watch-later").addClass("hide"),$(".more-menu .menu-remove-from-playlist").addClass("show")):
($(".more-menu .menu-watch-later").removeClass("hide"),$(".more-menu .menu-remove-from-playlist").removeClass("show"));return!1},jf:function(b,c){var d=a.b[b];if(d)for(var e=0;e<d.length;e++)if(d[e].videoId===c)return d[e];return null},kd:function(){var b=$("#columns")[0],b=$(".column-container",b);b.unbind("scroll");b.scroll(function(){a.V();this.scrollTop+$(this).height()>=this.scrollHeight-0&&a.yc(this);return!0});b=$("#search-column .column-container");b.unbind("scroll");b.scroll(function(){a.V();
if(this.scrollTop+$(this).height()>=this.scrollHeight-0){var b=$("article",this);0===$("article.spinner-article",this).length&&a.Fa("search-column",b.length)}return!0})},ma:function(b){if(null!=b&&"search-column"!==b&&a.i[b]&&a.i[b].active){var c=$("#"+b),d=!0,e=!1;if("allSubscriptions"===b||a.O(b)){var g=$("#"+b).find(".video-template");if(0===g.length||0===g.filter(":visible").length)e=!0;d=g.filter(".watched-video").length===g.length?!1:!0;"allSubscriptions"===b&&a.Ma?d=!1:"allSubscriptions"===
b&&d&&0===g.filter(":visible").length&&(d=!1)}if(d&&(g=$("#"+b).find(".video-template"),g.filter(".watched-video").length!==g.length))return;b=$("article.error",c);(e||a.F)&&0===b.length&&(c.addClass("hidden-column"),a.ab||c.addClass("collapsed-column"),c.removeClass("shown-column"),$(".column-container",c).scrollRelease());0==$("#columns .column:visible").length&&a.qg();a.Ya()}},Rb:function(b){var c=$("#"+b);if(0<c.find(".video-template").length||a.ia(b))c.removeClass("hidden-column"),c.removeClass("collapsed-column"),
c.addClass("shown-column"),"search-column"!=b&&a.Id(),b=$(".column-container",c),0<b.length&&(a.Ec(b)?b.scrollLock():b.scrollRelease());a.Ya()},Ya:function(){$("#columns").css("min-width","");a.V()},Sc:function(){var b=$("#empty-msg");$(".empty-msg1",b).css("display","block");$(".empty-msg2",b).css("display","none");b.css("display","table")},Id:function(){$("#empty-msg").css("display","none")},qg:function(){var b=$("#empty-msg");$(".empty-msg1",b).css("display","none");$(".empty-msg2",b).css("display",
"block");b.css("display","table")},bc:function(b,c,d){var e=a.H[b];e||(e=[]);if(d&&-1===$.inArray(c,e))e.push(c);else if(!d){var g=$.inArray(c,e);-1!==g&&e.splice(g,1)}a.H[b]=e;a.Ma?-1===$.inArray(b,a.mb)&&a.mb.push(b):a.ce(b,[c],d)},ec:function(b){a.s("loading");$(".loading-wrap").css("display","block");$("#loading-text").html(b);setTimeout(function(){$("#modal-loading").removeClass("init");$(".window-buttons").css("z-index",9999)},100)},sd:function(){$("#modal-loading").css("display","none");$(".window-buttons").css("z-index",
"")},ba:function(b,c){var d=b.attr("id");$("body").removeClass("modal-open");if("modal-loading"!==d&&(!$(".m-close",b).hasClass("disabled")||c)){if("modal-add-subs"===d){if(a.m.getCurrentStep()&&"tour1-step3"==a.m.getCurrentStep().id&&a.m.getCurrentStep().isOpen()&&0==a.w.length)return;a.lc("add-subs-close")}b.css("display","none");a.hg(b);"modal-welcome"!==d&&"modal-initsub"!==d||a.mf();"modal-video"===d&&(a.u("pauseVideo"),a.j&&a.Sa&&clearInterval(a.Sa),b.removeClass("docked"),b.removeClass("docked-scroll"),
b.addClass("v-scroll3"),$(".next-video").removeClass("show"),a.j&&(a.tc=!1,a.rc=!1,$("#ytPlayer")[0].src="about:blank",a.Kb=null),a.Wa&&($(".m-comment").click(),$(".m-comments .comment").remove(),$(".comment-write").addClass("hide"),a.ja=null,a.X=null),a.rb&&$(".m-description").click());"modal-confirm"===d&&($(".dialog-prev",b).off("click"),$(".dialog-next",b).off("click"));d=$(".sub-filter",b);0!==d.length&&(d.val(d.attr("data-default").toString()),$(".filtered",b).removeClass("filtered"),$(".no-results",
b).remove());d=$(".user-data > a");$(".user-menu").hasClass("show")&&d.click();100<=a.S&&a.reload()}},Ye:function(b){b.toggleClass("docked");b.toggleClass("v-scroll3");b.hasClass("docked")&&a.lf($("#container"))?b.addClass("docked-scroll"):b.removeClass("docked-scroll");b.hasClass("docked")?(a.u("setSize",399,224),$("body").removeClass("modal-open"),a.j&&($("#ytPlayer").css("height",224),$("#ytPlayer").css("width",399))):($("body").addClass("modal-open"),a.La())},s:function(b){"changes"===b&&a.Nd();
"loading"!=b&&$("body").addClass("modal-open");"subscribe"===b&&a.c("SubscribeDialog","displayed");var c=$("#modal-"+b);a.nf(c);c.css("display","block");"video"===b&&(c.addClass("animate"),setTimeout(function(){c.removeClass("animate")},20));a.Ca();a.rd()},nf:function(b){if(b.hasClass("step-dialog")){var c=$(".m-content",b).width(),d=$(".m-steps",b),e=$(".m-step",b);$(".m-footer",b).removeClass("start");d.css("width",e.length*c);e.css("width",1*c);if(!b.attr("data-step"))for(b.attr("data-step",1),
b.attr("data-step-width",c),$(".dialog-prev",b).addClass("hidden"),b=$(".dialog-step",b),c=0;c<e.length;c++)d=$("<span class='step-"+(c+1)+"'></span>"),b.append(d)}},hg:function(b){b.hasClass("step-dialog")&&($(".m-steps",b).css("margin-left",0),b.attr("data-step",1),$(".dialog-prev",b).addClass("hidden"),$(".dialog-next",b).removeClass("hidden"))},Uc:function(b,c,d,e,g,f,h,l,n){var k=$("#modal-msg");k.css("display","block");$(".modal-msg-title",k).html(b);$(".modal-msg-text",k).html(c);b=$(".modal-msg-text img");
a.dc(b);$(".m-content",k).width(e);0<d&&$(".m-container",k).height(d);n&&($(".m-close",k).css("display","none"),$(".m-close",k).addClass("disabled"),a.ld());0<g?($(".m-close",k).addClass("disabled"),$(".m-timeout",k).html(g).css("display","").attr("data-system",h).attr("data-id",l),a.oe=setInterval(a.Eg,1E3)):($(".m-timeout",k).css("display","none"),0==h&&a.ud(l));f&&a.c("DisplayMsg",f)},Eg:function(){var b=$("#modal-msg .m-timeout"),c=parseInt(b.html(),10)-1;0<c?b.html(c+""):(clearTimeout(a.oe),
$("#modal-msg .m-close").removeClass("disabled"),b.css("display","none"),"false"===b.attr("data-system")&&a.ud(b.attr("data-id")))},rd:function(){if(!Shepherd.activeTour){var b=$(".menu-btn.active, .menu-add-btn.active");0<b.length&&b.click()}},md:function(){$(".m-close").bind("click",function(){var b=$(this).closest(".modal-dialog");a.ba(b);return!1});$(".m-dock").bind("click",function(){var b=$(this).closest(".modal-dialog");a.Ye(b);return!1});$(".m-watched-close").bind("click",function(){var b=
$(this).closest(".modal-dialog"),c=$("[data-id='"+a.D+"']")[0];c&&$(".video-watched-toggle:not(.watched)",c).click();a.ba(b);return!1});$(".m-center").bind("click",function(b){-1!=b.target.className.indexOf("m-center")&&(b=$(this).closest(".modal-dialog"),a.ba(b))});var b=$(".m-comment");b.bind("click",function(){var c=$(".m-comments"),d=$("#modal-video .m-center"),e=$("#modal-video .m-content");c.hasClass("show")?(a.c("HideComments","clicked"),c.removeClass("show"),d.removeClass("comments"),b.removeClass("show"),
e.width(e.width()-450),a.Wa=!1,a.ib=!1):(a.c("ShowComments","clicked"),c.addClass("show"),d.addClass("comments"),b.addClass("show"),e.width(e.width()+450),a.X!=a.D&&a.Ha(a.D),a.Wa=!0,a.ib=!0,a.rb&&($(".m-description-wrap").removeClass("show"),$(".m-description").removeClass("show")));a.La()});var c=$(".m-description");c.bind("click",function(){var d=$(".m-description-wrap"),e=$("#modal-video .m-center"),f=$("#modal-video .m-content");d.hasClass("show")?(a.c("HideDescription","clicked"),d.removeClass("show"),
e.removeClass("comments"),c.removeClass("show"),f.width(f.width()-450),a.rb=!1,a.ib=!1):(a.c("ShowDescription","clicked"),d.addClass("show"),e.addClass("comments"),c.addClass("show"),f.width(f.width()+450),a.X!=a.D&&a.Ha(a.D),a.rb=!0,a.ib=!0,a.Wa&&($(".m-comments").removeClass("show"),b.removeClass("show")));a.La()});$(".comment-post").bind("click",function(){var b=$(".comment-area").val();0<b.length&&($(".comment-post").html("Posting..."),a.Wf(b))});var d=$(".comment-area");d.bind("keyup",function(){d[0].style.height=
"1px";d[0].style.height=d[0].scrollHeight+"px"});$(".m-comments").scroll(function(){this.scrollTop+$(this).height()>=this.scrollHeight-30&&a.Ha(a.X,a.ja);return!0});var e=$(".m-like");e.bind("click",function(){if(a.D){a.c("LikeVideo","clicked");var b=a.o[a.D],c=$(".m-dislike");e.hasClass("check")?(a.ac(a.D,0),e.removeClass("check"),b.videoLikes--):(a.ac(a.D,1),e.addClass("check"),b.videoLikes++,c.hasClass("check")&&b.videoDislikes--);c.removeClass("check");a.Vc(a.D,!0)}return!1});var g=$(".m-dislike");
g.bind("click",function(){if(a.D){a.c("DislikeVideo","clicked");var b=a.o[a.D],c=$(".m-like");g.hasClass("check")?(a.ac(a.D,0),g.removeClass("check"),b.videoDislikes--):(a.ac(a.D,-1),g.addClass("check"),b.videoDislikes++,c.hasClass("check")&&b.videoLikes--);c.removeClass("check");a.Vc(a.D,!0)}return!1});$(".power-action-reset").bind("click",function(){a.confirm("powerToolsResetSettings","Are you sure you want to reset all settings?",!1,function(){a.c("PowerReset","clicked");a.ig()})});$(".power-action-migrate").bind("click",
function(){a.confirm("powerToolsMigrate","Are you sure you want to migrate settings from old YTVD?",!1,function(){a.c("PowerMigrate","clicked");a.R(a.K("/auth/migrate",!0),null,"POST",function(b){0==b.success?console.log("error when saving settings",b.msg):a.reload()})})});$(".power-action-reset-confirm").bind("click",function(){a.confirm("powerToolsResetConfirmDialogs","Are you sure you want to reset confirm dialogs?",!1,function(){a.c("PowerResetConfirmDialogs","clicked");a.Xa={};a.G()})});$(".power-action-empty").bind("click",
function(){a.confirm("powerToolsRemoveColumns","Are you sure you want to remove all columns?",!1,function(){a.c("PowerEmpty","clicked");for(var b=$("#columns .column"),c=0;c<b.length;c++){var d=$(b[c]),e=d.attr("id");$('.sub-item span[data-sub-id="'+d.attr("id")+'"]').parent().parent().css("display","");a.O(e)&&($(".custom-sub-item[data-column-id='"+e+"']").remove(),a.h($("#modal-custom-columns .sub-items-container")));d.detach();a.N[e]=null}a.Ya();a.ka();a.ba($("#modal-actions"))})});$(".power-action-watched").bind("click",
function(){a.confirm("powerToolsMarkAsWatched","Are you sure you want to mark all videos as watched?",!1,function(){a.c("PowerWatched","clicked");$("#columns .column:visible .column-watched-btn").click();a.ba($("#modal-actions"))})});$(".sub-items").click(function(b){b=$(b.target).closest(".sub-item");if(0!==b.length){var c=$("span",b).attr("data-sub-id");c?(a.sa(c,"allSubscriptions"==c?"allSubscriptions":"channel"),$(b).css("display","none"),a.be()):window.location="https://www.youtube.com";a.Md();
a.Ca();return!1}});$(".all-sub-items").click(function(b){b=$(b.target).closest(".sub-item");if(0!==b.length)return $("span",b).attr("data-sub-id")&&($(".custom-column-items").append(b[0].cloneNode(!0)),b.addClass("hidden")),a.h($(".all-sub-items-container")),a.h($(".custom-column-items-container")),a.Ca(),!1});$(".custom-column-items").click(function(b){b=$(b.target).closest(".sub-item");if(0!==b.length){var c=$("span",b).attr("data-sub-id");c&&(b.remove(),$(".all-sub-items .sub-item span[data-sub-id='"+
c+"']").closest(".sub-item").removeClass("hidden"));a.h($(".all-sub-items-container"));a.h($(".custom-column-items-container"));a.Ca();return!1}});$("#modal-add-playlist .playlist-sub-items").click(function(b){b=$(b.target).closest(".sub-item");0!==b.length&&(b=$("span",b).attr("data-sub-id"),a.ef(b))});$("#modal-playlists .playlist-sub-items").click(function(b){if(0!==a.ua&&2<=$(".playlist-column").length)a.s("subscribe");else if(b=$(b.target).closest(".sub-item"),0!==b.length){var c=$("span",b).attr("data-playlist-id");
c&&(b.remove(),a.qe(c),a.h($("#modal-playlists .sub-items-container")))}});var f=$(".sub-filter");f.bind("focusin",function(){$(this).val()===$(this).attr("data-default")&&$(this).val("")});f.bind("focusout",function(){0===$(this).val().trim().length&&$(this).val($(this).attr("data-default").toString())});f.bind("keyup",function(){var b=$(this).val().toLowerCase(),c=$(this).parents(".m-container"),d=$("."+$(this).attr("data-bind"),c);$(".filtered",d).removeClass("filtered");$(".no-results",d).remove();
for(var e=$("li span",d),f=0,g=0;g<e.length;g++)-1===e[g].innerHTML.toLowerCase().indexOf(b)&&($(e[g]).closest("li").addClass("filtered"),f++);g="subscriptions";"modal-playlists"==c.parents(".modal-dialog").attr("id")&&(g="playlists");f==e.length?$("<li class='no-results'>No "+g+' found for "'+b+'" </li>').appendTo(d):a.Md();a.Ca();a.h(d.closest(".mCustomScrollbar"))});$("#modal-custom-columns .sub-items").click(function(b){b=$(b.target).closest(".custom-sub-item");if(0!==b.length){if(b=b.attr("data-column-id"))a.qd(),
a.Bf(b);return!1}});f=$(".custom-column-name");f.bind("focusin",function(){"Enter column name here"===$(this).val()&&$(this).val("")});f.bind("focusout",function(){var b=$(this).val().trim();0===b.length?$(this).val("Enter column name here"):(b=b.substr(0,30),$(".custom-sub-item span"),$(this).val(b))});$(".create-custom-column").click(function(){0===a.ua||2>$(".custom-sub-item").length?(a.c("CreateCustomColumn","clicked"),a.qd(),a.s("add-custom-column")):a.s("subscribe")});$(".custom-column-save").click(function(){for(var b=
$(".custom-column-name").val(),c=$(".custom-column-items .sub-item"),d=[],e=0;e<c.length;e++){var f=$("span",c[e]).attr("data-sub-id");d.push({type:"channel",id:f})}0!==d.length&&(f=a.sb||a.Dc(),a.gd(f,b,d),a.ba($("#modal-add-custom-column")))});$(".modal-dialog .dialog-next").click(function(){var b=$(this).parents(".modal-dialog"),c=parseInt(b.attr("data-step"),10),d=parseInt(b.attr("data-step-width"),10),e=$(".m-steps",b);c++;b.attr("data-step",c);c==e.children().length&&($(".dialog-next",b).addClass("hidden"),
$(".dialog-start",b)&&$(".m-footer",b).addClass("start"));"modal-subscribe"==b.attr("id")&&3==c&&a.df();$(".dialog-prev",b).removeClass("hidden");e.animate({"margin-left":"+=-"+d+"px"},"fast")});$(".modal-dialog .dialog-prev").click(function(){var b=$(this).parents(".modal-dialog"),c=parseInt(b.attr("data-step"),10),d=parseInt(b.attr("data-step-width"),10),e=$(".m-steps",b);c--;b.attr("data-step",c);1==c&&$(".dialog-prev",b).addClass("hidden");$(".dialog-next",b).removeClass("hidden");$(".m-footer",
b).removeClass("start");e.animate({"margin-left":"-=-"+d+"px"},"fast")});$("#modal-welcome .dialog-start").click(function(){var b=$(this).parents(".modal-dialog");a.ba(b,!0);console.log("show popular",a.fc);a.Xe();a.Tc()});$("#modal-initsub .dialog-start").click(function(){var b=$(this).parents(".modal-dialog");a.ba(b,!0);var b=$("#modal-add-subs .sub-items"),c=$(".sub-item",b)[0],d=a.uc(c,a.Xc.allSubscriptions);b.prepend(d);$(c).detach();a.fb();a.m.start()});$(".modal-dialog .pay-with").click(function(){a.U(a.Xd);
a.Pc=0;a.le(a.Wd)});$(".start-from-beginning").click(function(){$(".start-overlay").removeClass("show");a.u("playVideo")});var h=$(".start-from-last-position");h.click(function(){var b=h.attr("data-seek");$(".start-overlay").removeClass("show");a.u("seekTo",b,!0);a.u("playVideo")});var l=$(".custom-seperator-btn-top .custom-seperator-btn-wrap");l.change(function(){console.log("change");var b=$("#modal-add-custom-column .all-sub-items-container");if(l.hasClass("active")){l.removeClass("active");for(var c=
0;c<a.w.length;c++){var d=a.w[c],e=[];if("channel"==d.type)e.push(d.id);else if("custom"==d.type)for(var f=0;f<d.customColumnItems.length;f++)e.push(d.customColumnItems[f].id);for(f=0;f<e.length;f++)$(".sub-item-btn span[data-sub-id='"+e[f]+"']",b).closest(".sub-item").addClass("filtered2")}}else l.addClass("active"),$(".filtered2",b).removeClass("filtered2");a.Ca();a.h($(".all-sub-items",b).closest(".mCustomScrollbar"))});$("input[name='layout']").change(function(){var b=$("input[name='layout']:checked").val(),
c=$("#multirow-count");"horizontal"===b?(a.Da=!1,c.closest(".settings-item").addClass("disabled"),c.prop("disabled",!0)):(a.Da=!0,c.closest(".settings-item").removeClass("disabled"),c.prop("disabled",!1));a.fb(!0);a.G()});$('input[name="showDescription"]').change(function(){$(this).is(":checked")?(a.hb=!0,$("#main").addClass("show-descriptions")):(a.hb=!1,$("#main").removeClass("show-descriptions"));a.fb();a.G()});$('input[name="sound-notification"]').change(function(){$(this).is(":checked")?a.Oa=
!0:a.Oa=!1;a.G()});$('input[name="hideCollapsedColumns"]').change(function(){$(this).is(":checked")?(a.ab=!0,$(".column.hidden-column").removeClass("collapsed-column")):(a.ab=!1,$(".column.hidden-column").addClass("collapsed-column"),a.cc());a.G()});$('input[name="playAllSkipWatched"]').change(function(){$(this).is(":checked")?a.Ja=!0:a.Ja=!1;a.G()});$('input[name="show-notification"]').change(function(){$(this).is(":checked")?(a.Ba=!0,$("label[for='sound-notification']").removeClass("disabled")):
(a.Ba=!1,$("label[for='sound-notification']").addClass("disabled"));a.G()});$("input[name='play-all-action']").change(function(){"play-all-top"===$("input[name='play-all-action']:checked").val()?a.Ia=!1:a.Ia=!0;a.G()});$("input[name='video-action']").change(function(){"video-outside"===$("input[name='video-action']:checked").val()?(a.ya="youtube",$("#play-vq").closest(".settings-item").addClass("disabled"),$("#play-vq").prop("disabled",!0),$("#play-speed").closest(".settings-item").addClass("disabled"),
$("#play-speed").prop("disabled",!0),$("#autoMarkVideoWatched").closest(".settings-item").addClass("disabled"),$("#autoMarkVideoWatched").prop("disabled",!0)):(a.ya="deck",$("#play-vq").closest(".settings-item").removeClass("disabled"),$("#play-vq").prop("disabled",!1),$("#play-speed").closest(".settings-item").removeClass("disabled"),$("#play-speed").prop("disabled",!1),$("#autoMarkVideoWatched").closest(".settings-item").removeClass("disabled"),$("#autoMarkVideoWatched").prop("disabled",!1));a.G()});
$('input[name="autoMarkVideoWatched"]').change(function(){$(this).is(":checked")?a.Ua=!0:a.Ua=!1;a.G()});var n=$("#multirow-count"),f=$('[for="multirow-count"]');n.val(a.pa);n.prop("disabled",!1);f.removeClass("disabled");n.change(function(){a.pa=n.val();a.G();a.fb()});var k=$("#play-vq");k.change(function(){a.J=k.val();a.u("setPlaybackQuality",a.J);a.G()});var m=$("#play-speed");m.change(function(){a.za=m.val();a.u("setPlaybackRate",a.za);a.G()});var p=$(".m-loop");p.click(function(b){p.toggleClass("checked");
p.hasClass("checked")?a.u("setLoop",!0):a.u("setLoop",!1);b.stopPropagation();return!1});var q=$(".m-shuffle");q.click(function(){q.toggleClass("checked");q.hasClass("checked")?a.u("setShuffle",!0):a.u("setShuffle",!1)});f=$(".dropdown-wrapper");f.on("click",function(b){$(this).toggleClass("active");b.stopPropagation()});$("li",f).on("click",function(b){var c=$("a",this);b=$(b.target).closest(".dropdown-wrapper");$(".dropdown-selected",b).html(c.html()+"").attr("data-value",c.attr("data-value")+"");
b.removeClass("active");$("li.hide",b).removeClass("hide");$(this).addClass("hide");"newest"===c.attr("data-value")?a.Pb=!0:a.Pb=!1;$(".comment").remove();a.ja=null;a.Ha(a.X);return!1});a.pf(f);f=$("#modal-new-version");f.length&&f.find(".dialog-start").click(function(){a.reload()})},df:function(){var b=$("#package-review .pricing-grid").attr("data-value");$(".pay-with").addClass("hide");$(".pay-with-load").removeClass("hide");a.R(a.K("/initializePayment?paymentMethod=paypal&subscriptionOptionId="+
b+"&closeWindow=true",!0),null,"GET",function(b){b.success?(a.Xd=b.redirect,a.Wd=b.id,$(".pay-with").removeClass("hide"),$(".pay-with-load").addClass("hide")):console.log("payment ERROR")})},Md:function(){var b=$("#modal-add-subs .sub-items");$(".sub-item",b).is(":visible")?$(".no-results",b).remove():$("<li class='no-results'>No more subscriptions available</li>").appendTo(b)},pf:function(b){var c=$("li:first a",b);$(".dropdown-selected",b).html(c.html()+"").attr("data-value",c.attr("data-value")+
"");$("li:first",b).addClass("hide")},Xe:function(){a.$c();a.s("initsub");a.gb($("#modal-initsub"))},$c:function(){var b=$("#modal-initsub .dialog-status"),c=$("#modal-initsub .dialog-start"),d=a.ca.length;3>d?(b.css("display","block"),c.css("display","none"),2==d?b.html("Subscribe to 1 more channel"):b.html("Subscribe to "+(3-d)+" more channels")):(c.css("display","block"),b.css("display","none"))},gd:function(b,c,d,e){var g=$("#modal-custom-columns .sub-items-container .sub-items");null!==a.sb&&
(a.sb=null);var f=$(".custom-sub-item[data-column-id='"+b+"']",g);0<f.length?$("span",f).html(c):(f=$("<li class='custom-sub-item'><a class='btn sub-item-btn' href='#'><span class='add-special'>"+c+"</span></a></li>"),f.attr("data-column-id",b),g.append(f));e||a.Hg(b,c,d);a.De(b,c);a.h($("#modal-custom-columns .sub-items-container"))},De:function(b,c){var d=$(".menu-custom-columns"),e=$('<li><span data-column="'+b+'">'+c+"</span></li>");d.append(e)},be:function(){8>$(".sub-item:visible").length?$("#modal-add-subs .sub-items-container").css("height",
"auto"):$("#modal-add-subs .sub-items-container").css("height","530px");a.h($("#modal-add-subs .sub-items-container"))},xa:function(b){if(0==$(".spinner-article",b).length){var c=$("<article class='video-template spinner-article'><div class='video-container'></div></article>");b.append(c);a.B&&a.kb&&b.closest(".column-container").mCustomScrollbar("update")}},ka:function(){for(var b=$("#columns section"),c=[],d=0;d<b.length;d++){var e=$(b[d]).attr("id");c.push(a.i[e])}a.w=c;a.G();0===b.length&&a.Sc()},
qe:function(b){var c=a.Aa[b];console.log("playlist",c);a.a[c.id]={imageUrl:c.thumb,name:c.name,username:c.username};"watch-later"==b?(a.a[c.id].imageUrl=null,a.a[c.id].icon="icon-clock",a.sa(c.id,"watchLater")):a.sa(c.id,"playlist")},Hg:function(b,c,d){for(var e=$("#"+b),g=[],f=0;f<d.length;f++)g.push(d[f].id);a.a[b]={icon:"icon-results-demographics",name:c,username:b,channels:g};0<e.length?(a.f[b]=null,a.b[b]=null,a.N[b]=void 0,g=$("#columns .column").index(e),$(e).remove(),a.sa(b,"custom",g,{customColumnName:c,
customColumnItems:d})):a.sa(b,"custom",void 0,{customColumnName:c,customColumnItems:d})},sa:function(b,c,d,e){var g={id:b,type:c,active:!0};"custom"==c&&e&&(g.customColumnItems=e.customColumnItems,g.customColumnName=e.customColumnName);"search"==c&&e&&(console.log("init search column"),g.columnFilters=e);a.i[b]=g;a.Be(b,d)},Be:function(b,c){var d=$(".column-template")[0],e=$("#columns")[0];a.Pd(b,d,e,c);a.kd();a.ka();a.Id();a.Tb(b,!0)},Kg:function(){console.log("Update subs");if(0<a.mc.length)for(var b=
0;b<a.mc.length;b++){var c=a.mc.pop();a.I(c.element,c.url)}if(!(0<a.Fb.length)&&0!=a.w.length)for(var d=[],b=0;b<a.w.length;b++)if(c=a.w[b],"watchLater"===c.id)console.log("update watch later"),a.b.watchLater=null,a.N.watchLater=null,a.W("watchLater",0);else{if("search"==c.type)if(void 0==a.Gb[c.id]&&(a.Gb[c.id]=0),a.Gb[c.id]++,10<=a.Gb[c.id])a.Gb[c.id]=0;else continue;if(!1!==c.active){var e=3E4*Math.random();d.push(c.id);setTimeout(function(){var b=d.pop();a.W(b,!0)},e)}}},Hb:function(b){var c=
$("#"+b),d=$(".column-container article",c),e=a.b[b],g=$(".video-template")[0],f=0;if(e[f]){var h=e[f].videoId||e[f].channelId||e[f].videoPlaylistId;if(h){for(var l=[],n=[];e[f]&&$(d[0]).attr("data-id")!==h;){for(var k=!1,m=0;m<d.length&&25>m;m++)if($(d[m]).attr("data-id")===h){k=!0;break}if(k)break;k=e[f];a.a[b].isTopic&&(k=a.o[h]);k&&k.loadDetails&&a.o[h]&&(k=a.o[h]);!k||k.loadDetails?-1===l.indexOf(h)&&l.push(h):(m=a.yb(k,g,null,b),n.push({details:k,item:m}));f++;if(f===e.length)break;h=e[f].videoId||
e[f].channelId||e[f].videoPlaylistId}if(0<l.length)a.wa(b,l,null,null,null,null,!0);else{for(f=0;f<n.length;f++)k=n[f].details,k.loadDetails&&(k=a.o[h]),m=n[f].item,d=!1,"allSubscriptions"==b&&k.videoChId&&a.ha&&-1!=a.ha.indexOf(k.videoChId)&&($(m).addClass("hidden"),d=!0),a.B?$(".mCSB_container",c).prepend(m):$(".column-container",c).prepend(m),e=new Date,e.setDate(e.getDate()-1),a.Ba&&e<new Date(k.videoUpload)&&!d&&(void 0===k.videoTypeUpload||!0===k.videoTypeUpload)&&(k.videoUsernameImage=a.a[b].imageUrl,
a.createNotification(k));0<f&&(a.Rb(b),a.Tb(b,!1));a.gb(c)}}}},fa:function(b,c,d){if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},createNotification:function(b){-1===$.inArray(b.videoId,a.Yb)&&(a.Yb.push(b.videoId),10===a.Yb.length&&a.Yb.splice(0,1),a.backend.createNotification(b))},U:function(b){window.open(b,"_blank");
window.focus()},Zd:function(){for(var b=$("#columns").children(),c=0;c<b.length;c++){var d=$(b[c]).attr("id");if(a.F)a.ma(d),$(".watched-video",b[c]).css("display","none");else{a.Rb(d);var e=$(".video-template:not(.hidden)",b[c]),g=e.splice(15,e.length-15);a.N[d]=null;e.css("display","block");$(g).detach()}a.h($(".mCustomScrollbar",b[c]))}},va:function(){a.c("GetSettings","server");!a.Bc&&window.ga&&window.ga.create&&0<window.ga.getAll().length&&!a.j?window.ga(function(b){a.Bc=b.get("trackingId");
a.Ad=b.get("clientId");a.va()}):a.R(a.K("/settings?clientId="+a.Ad+"&trackingId="+a.Bc,!0),null,"GET",function(b){if(b){var c=b.settings,d=b.watchedChannels,e=b.message,g=b.promo;c?(a.F=c.hideWatchedVideos,a.pa=c.verticalRows,a.w=c.columnsOrder,a.Ba=c.showNotifications,a.ya=c.openVideosAction,a.J=c.playVideoQuality,a.Ib=c.shownWelcomeScreen,a.Oa=c.soundNotification,a.Da=c.verticalLayout,a.Ja=c.playAllSkipWatched,a.Ia=c.playAllFromBottom,a.hb=c.showVideoDescriptionInColumn,a.Xa=c.dialogHideSettings||
{},a.za=c.playbackSpeed,a.ab=c.hideCollapsedColumns,a.Ua=c.autoMarkVideoWatched,a.de=c):(a.F=!1,a.Ba=!0,a.ya="deck",a.w=[],a.J="large");g&&(a.Eb=g);for(c=0;c<a.w.length;c++)g=a.w[c],a.i[g.id]=g;a.J||(a.J="large");a.pa||(a.pa=3);0<a.w.length&&a.Zf();for(var f in d)a.H[f]=d[f];e&&a.Uc(e.title,e.msg,e.height,e.width,e.timeout,e.GAEvent,e.system,e.id)}a.Af();b.proVersion||(a.ua=1,a.Cf());a.Ib&&(a.fe(),a.te());a.ee=!0;a.Df()})},Zf:function(){for(var b=[],c=[],d=0;d<a.w.length;d++){var e=a.w[d];if("custom"==
e.type){var g=[];if(e.customColumnItems){for(var f=0;f<e.customColumnItems.length;f++)g.push(e.customColumnItems[f].id),-1==c.indexOf(e.customColumnItems[f].id)&&c.push(e.customColumnItems[f].id);a.a[e.id]={icon:"icon-results-demographics",name:e.customColumnName,username:e.id,channels:g};a.gd(e.id,e.customColumnName,e.customColumnItems,!0)}else console.warn("missing custom column info")}else"search"==e.type?a.a[e.id]={icon:"icon-search-find",name:"Search: "+e.columnFilters.searchQuery,username:e.id}:
"playlist"==e.type?(a.a[e.id]={name:"Playlist",imageUrl:a.ea()+"img/blank.gif"},b.push(e.id)):"watchLater"==e.type?(a.a[e.id]={name:"Watch Later",icon:"icon-clock"},b.push(e.id)):"channel"==e.type&&-1==c.indexOf(e.id)&&c.push(e.id)}a.ha=c;d=0;for(f=c.length;d<f;d+=50)e=c.slice(d,d+50),a.getChannelData(e,!0,!0,null,function(){});if(0<b.length)for(d=0,f=b.length;d<f;d+=50)e=b.slice(d,d+50),a.Ed(e)},ig:function(){a.F=!1;a.Oa=!1;a.pa=3;a.w=[];a.Ba=!0;a.ya="deck";a.G(function(){a.reload()})},ud:function(b){a.R(a.K("/messageConfirm",
!0),{id:b},"POST")},Df:function(b){a.R(a.K("/watchedMap",!0),{channels:b},"POST",function(b){a.H=b.channels;a.H&&a.H.undefined&&(a.ce("undefined",a.H.undefined,!1),delete a.H.undefined);a.jb?a.Yc():a.jb=!0})},G:function(b){if(a.ee&&!a.jg){a.c("SetSettings","server");var c=a.de;c.hideWatchedVideos=a.F;c.verticalRows=a.pa;c.columnsOrder=a.w;c.showNotifications=a.Ba;c.soundNotification=a.Oa;c.openVideosAction=a.ya;c.playVideoQuality=a.J;c.shownWelcomeScreen=a.Ib;c.verticalLayout=a.Da;c.dialogHideSettings=
a.Xa;c.playAllSkipWatched=a.Ja;c.playAllFromBottom=a.Ia;c.showVideoDescriptionInColumn=a.hb;c.playbackSpeed=a.za;c.hideCollapsedColumns=a.ab;c.autoMarkVideoWatched=a.Ua;a.R(a.K("/settings/",!0),c,"POST",function(c){0==c.success?console.log("error when saving settings",c.msg):b&&b()})}},kg:function(b){for(var c={},d=!1,e=0;e<b.length;e++)a.H[b[e]].length&&(c[b[e]]=a.H[b[e]],d=!0);d&&a.R(a.K("/watchedBatch",!0),{channels:c},"POST")},ce:function(b,c,d){a.R(a.K((d?"/watched/":"/watchedRemove/")+b,!0),
{list:c},"POST")},Ed:function(b,c,d){var e=[];if(c)e=b;else for(var g=0;g<b.length;g++)"watchLater"===b[g]?e.push(a.Qa):e.push(b[g]);a.A("playlists",{part:"snippet,contentDetails",maxResults:50,id:e.join(",")},function(b){a.Mf(b,c,d)})},Mf:function(b,c,d){if(b.items)for(var e=0;e<b.items.length;e++){var g=b.items[e],f=g.id;f===a.Qa&&(f="watchLater");a.a[f]={imageUrl:a.g(g,"snippet/thumbnails/default/url",""),name:a.g(g,"snippet/title"),channelId:a.g(g,"snippet/channelId"),description:a.g(g,"snippet/description",
""),videoCount:a.g(g,"contentDetails/itemCount")};"watchLater"===f&&(a.a[f].icon="icon-clock",a.a[f].imageUrl=null);c?-1!==d.channelIds.indexOf(a.a[f].channelId)||a.a[a.a[f].channelId]&&a.a[a.a[f].channelId].loaded||d.channelIds.push(a.a[f].channelId):(g=$("#"+f),0<g.length&&a.Jg(f,g))}d&&(d.channelIds&&0<d.channelIds.length?a.getChannelData(d.channelIds,!0,!0,d):d.videoIds&&0===d.videoIds.length?a.Ab({items:[]},d.subId,d.from,d.count,d.addVideos,d.loadingIndicator):a.wa(d.subId,d.videoIds,d.from,
d.count,d.addVideos,d.loadingIndicator))},xf:function(){if(!a.j){var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://www.google-analytics.com/analytics.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}},Nd:function(){if(!a.j){a.c("GPlus","loaded");var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://apis.google.com/js/plusone.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,
c)}},Cf:function(){$(".btn-subscribe").css("display","block");a.R(a.K("/subscriptions",!0),null,"GET",function(b){if(b){a.Bg=b;var c=$("#package-select"),d=!1;b=b.sort(function(b,c){var e=b.totalPrice,f=c.totalPrice;b.totalPriceFirstPayment&&(e/=100,d=!0);c.totalPriceFirstPayment&&(f/=100,d=!0);return e-f});for(var e=d?0:1,g=0;g<b.length;g++){var f=b[g],h="recurringPayment"==f.orderType&&f.totalPriceFirstPayment,f='<div class="pricing-grid '+(g==e?"selected":"")+' " data-value="'+f.id+'"><ul><li>'+
(h?'<span class="title">'+f.promoDisplayName+"</span>":"")+'<span class="price '+(h?"withTitle":"")+'">$'+(h?f.totalPriceFirstPayment:f.totalPrice)+(h?'<span class="subtext">'+f.promoSubtext+"</span>":'<span class="per">/'+("365"==f.days?"year":"month")+"</span>")+"</span></li></ul></div>",h=$(f);c.append(h);g==e&&$("#package-review").append($(f).removeClass("selected"))}$(".pricing-grid",c).click(function(){$(".pricing-grid",c).removeClass("selected");$(this).addClass("selected");$("#package-review").empty().append($(this).clone().removeClass("selected"))})}})},
le:function(b){a.R(a.K("/checkPayment?id="+b,!0),null,"GET",function(c){console.log("check payment loaded",c);a.Pc++;100<a.Pc||(c.success?(console.log("success payment"),a.reload()):c.error?console.log("payment error",c.message):setTimeout(function(){a.le(b)},3E3))})},confirm:function(b,c,d,e,g,f){var h=$("#modal-confirm");if(a.Xa&&a.Xa[b])e();else{var l=$("#confirm-skip");l.prop("checked",!1);d?$(".confirm-skip").css("display","block"):$(".confirm-skip").css("display","none");$("#confirm-text",h).html(c);
$(".dialog-next",h).on("click",function(c){c.stopPropagation();l.is(":checked")&&(a.Xa[b]=!0,a.G());a.ba(h);e&&e()});c=$(".dialog-prev",h).on("click",function(b){b.stopPropagation();a.ba(h)});g?c.addClass("hide"):c.removeClass("hide");f?$("#modal-confirm .m-content").css("width",f):$("#modal-confirm .m-content").css("width","");a.s("confirm")}},lf:function(b){return $(b)[0].scrollWidth>$(b).innerWidth()},Ec:function(b){return $(b)[0].scrollHeight>$(b).innerHeight()},Gd:function(b){var c;if(a.B)return"";
c="https://";return c=b?c+a.Ff:c+a.wg},ea:function(){return a.B?"deck/":""},Na:function(b,c,d){if(a.j){var e={};e[b]=c;chrome.storage.local.set(e,function(){d&&d()})}else localStorage[b]=c,d&&d()},tb:function(b,c){a.j?chrome.storage.local.get(b,function(d){c(d[b])}):c(localStorage[b])},I:function(b,c,d){if(c)if(c=c.replace("http://","https://"),a.B)b[0].src=c;else if(a.Fc[c])b[0].src=window.URL.createObjectURL(a.Fc[c]);else{var e=new XMLHttpRequest;b.attr("data-src-url",c);e.open("GET",c,!0);e.responseType=
"blob";e.onload=function(e){404!==e.target.status||d||a.mc.push({element:b,url:c});b[0].src=window.URL.createObjectURL(e.target.response);a.Fc[c]=e.target.response};e.send()}},bg:function(b,c){y(b,c)},K:function(b,c,d){return a.Gd(c)+b+(a.j?(d?"&":"?")+"state="+encodeURIComponent(a.state):"")},Zb:function(){var b=a.qc.shift();b&&(b.callback&&(a.ed[b.callbackId]=b.callback,delete b.callback),$("#ytPlayer")[0].contentWindow.postMessage(b,"*"),0<a.qc.length&&a.Zb())},Rc:function(b){console.log("save video time");
a.ob?b=a.ob:b||a.Mb("getVideoData",function(b){b&&a.Rc(b.video_id)});a.Mb("getCurrentTime",function(c){if(c&&(10<c||10>=a.sc)){var d=80>a.sc?.6:.95;a.Ua&&c>a.sc*d?(console.log("autoMarked as watched"),(d=$("[data-id='"+a.ob+"']")[0])&&$(".video-watched-toggle:not(.watched)",d).click()):a.tb("watchTime",function(d){d?d=JSON.parse(d):d=[];for(var g=!1,f=0;f<d.length;f++)d[f].id==b&&(g=!0,d[f].seek=Math.floor(c));g||d.push({id:b,seek:Math.floor(c)});10<d.length&&d.shift();a.Na("watchTime",JSON.stringify(d))})}})},
ae:function(b){a.tb("watchTime",function(c){if(c){c=JSON.parse(c);for(var d=0;d<c.length;d++)if(c[d].id==b){c.splice(d,1);break}a.Na("watchTime",JSON.stringify(c))}})},u:function(b,c,d){if(a.j)a.qc.push({functionName:b,arg1:c,arg2:d}),a.tc&&a.Zb();else if(a.Y)return c||d?c&&!d?a.Y[b](c):a.Y[b](c,d):a.Y[b]()},Mb:function(b,c){a.j?(a.qc.push({functionName:b,callbackId:a.Dc(),callback:c}),a.tc&&a.Zb()):a.Y&&c(a.Y[b]())},A:function(b,c,d,e,g,f,h){var l=b+JSON.stringify(c)+e+g,n={path:"/youtube/v3/"+b,
params:c};e&&(n.method=e);g&&(n.body=g);if(a.Ra[l]&&(n.headers={"If-None-Match":a.Ra[l].etag},-1!=["channels","videos"].indexOf(b))){d(a.Ra[l]);return}gapi&&gapi.client&&gapi.client.request&&gapi.auth&&gapi.auth.setToken||(console.log("gapi is not loaded somehow"),gapi.client?gapi.client.request?gapi.auth?gapi.auth.setToken||a.c("gapi-error","gapi.auth.setToken not loaded"):a.c("gapi-error","gapi.auth not loaded"):a.c("gapi-error","gapi.client.request not laoded"):a.c("gapi-error","gapi.client not loaded"));
-1!=["subscriptions","videos/getRating","activities","playlists"].indexOf(b)||f?(gapi.auth.setToken({access_token:a.P}),gapi.client.setApiKey("")):(gapi.auth.setToken({access_token:""}),"commentThreads"==b||"comments"==b?gapi.client.setApiKey(a.pb[0]):gapi.client.setApiKey(a.da()));a.bd[b]||(a.bd[b]=0);a.bd[b]++;if(h)a.qb[h.name]||(a.qb[h.name]=gapi.client.newBatch()),n=gapi.client.request(n),a.qb[h.name].add(n,{callback:function(b){if(200==b.status)a.Ra[l]=b.result;else if(304==b.status){d(a.Ra[l]);
return}d(b.result)}}),h.last&&(console.log("execute batch"),a.qb[h.name].execute(function(){a.qb[h.name]=null}));else if(n=gapi.client.request(n).then(function(f){if((200==f.status||204==f.status)&&c.part){var g=c.part.split(","),h=3;"id"==g[0]?h=1:(1==g.length&&(h+=2*g.length),"search"==b&&(h=100),e&&"GET"!=e&&(h=50));a.vd+=h}if(200==f.status)a.Ra[l]=f.result;else if(304==f.status){d(a.Ra[l]);return}d(f.result)},function(h){401==h.status&&(a.T=!0,a.getToken(!0),"subscriptions"!=b||e||a.Tc());500==
h.status&&"playlists"==b&&c.mine?d({items:[]}):(500==h.status&&(console.warn("retry on error 500"),a.A(b,c,d,e,g,f)),503==h.status&&"channels"==b&&(console.log("banned channel"),d({})),console.log("error",h))}),a.j)n["catch"](function(b){debugger;console.log("promise catched response",b)})},R:function(b,c,d,e){$.ajax({url:b,dataType:"json",cache:!1,data:null!=c?JSON.stringify(c):"",type:d,headers:{accept:"application/json; version="+a.Ve,"X-YTVD-Version":a.vc},contentType:"application/json; charset=utf-8",
success:function(b){e&&e(b)},error:function(b){"POST"!=d&&(b.responseJSON&&(b.responseJSON.kill||999===b.responseJSON.errorCode?a.Ic():505!==b.responseJSON.errorCode&&506!==b.responseJSON.errorCode||a.Na("state","",function(){a.$a=null;a.Od()}),999==b.responseJSON.code&&a.Je()),e&&e(b.responseJSON))}})},reload:function(){if(a.j){var b=chrome.app.window.current();a.backend.closeYTVD(!0);b.close()}else window.location.reload()},cg:function(){return a.P},Of:function(){a.u("setPlaybackQuality",a.J);a.u("setPlaybackRate",
a.za);a.rc=!0},Nc:function(b,c){if(b.data==YT.PlayerState.UNSTARTED||b.data==YT.PlayerState.BUFFERING){if(!c){var d=a.u("getVideoData");c=d.video_id}c!=a.D&&(a.D=c,a.gc(c))}if(b.data==YT.PlayerState.BUFFERING&&-1==a.we){a.u("setPlaybackQuality",a.J);a.u("setPlaybackRate",a.za);console.log("buffer on");c||(d=a.u("getVideoData"),c=d.video_id);if(a.ob==c)return;if(a.ob=c)a.o[c]&&((d=a.H[a.o[c].channelId||a.o[c].videoChId])&&-1!=d.indexOf(c)?a.kc(!0):a.kc(!1)),-1==a.Kb.indexOf(",")&&a.tb("watchTime",
function(b){if(b){b=JSON.parse(b);for(var d=0;d<b.length;d++)if(b[d].id==c){var f=b[d].seek;if(f&&0<f){$(".start-overlay").addClass("show");a.u("pauseVideo");var h=$(".start-from-last-position");h.attr("data-seek",f);$("span",h).text(a.zd(f+""))}else $(".start-overlay").removeClass("show")}}})}b.data==YT.PlayerState.PLAYING&&a.Mb("getDuration",function(b){a.sc=b;a.Sa&&clearInterval(a.Sa);a.Sa=setInterval(a.Rc,5E3)});if(b.data==YT.PlayerState.ENDED||b.data==YT.PlayerState.PAUSED)a.Sa&&clearInterval(a.Sa),
b.data==YT.PlayerState.PAUSED&&a.Rc(),b.data==YT.PlayerState.ENDED&&(a.ae(a.ob),-1==a.Kb.indexOf(",")&&$(".m-loop.checked").length&&a.u("playVideo"));a.we=b.data;console.log("event",b)},Nf:function(b){101!=b.data&&150!=b.data||a.Mb("getPlaylist",function(b){b&&0<b.length&&$(".next-video").addClass("show")})},da:function(){var b=a.pb[a.Lb];a.Lb++;a.Lb>=a.pb.length&&(a.Lb=0);return b},kc:function(b){var c=$(".m-watched-close"),d=$("i",c);b?(d.removeClass("icon-eye"),d.addClass("icon-eye-slash-close"),
c.attr("title","Video already marked as watched")):(d.addClass("icon-eye"),d.removeClass("icon-eye-slash-close"),c.attr("title","Close Video and mark it as watched"))},g:function(b,c,d){c=c.split("/");for(var e=0;e<c.length;e++)if(b[c[e]])b=b[c[e]];else return d;"number"===typeof d&&(b=parseInt(b,10));return b},c:function(b,c){a.fd(["event",b,c,a.Cc])},Dc:function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+
b()},uf:function(b){b=b.replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,'<a href="$1" target="_blank">$1</a>');b=b.replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2" target="_blank">$2</a>');b=b.replace(/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,'<a href="mailto:$1">$1</a>');return b=b.replace(/(?:\r\n|\r|\n)/gim,"<br/>")},lc:function(b){var c=document.createEvent("Event");c.initEvent(b,!0,!0);document.body.dispatchEvent(c)},gf:function(){return a.Oa}};
"undefined"!==typeof chrome&&(a.j=chrome&&chrome.app&&chrome.app.runtime);window.YTVD=a;window.gapiLoaded=function(){a.ye();console.time("startup")};window.onYouTubeIframeAPIReady=function(){a.ug()};a.updateSubs=a.Kg;a.pollingInterval=a.Uf;a.isPackedApp=a.j;a.isWebVersion=a.B;a.apiKey=a.pb;a.readToken=a.cg;a.sendSignedRequest=a.la;a.getToken=a.getToken;a.youtubeVideoUrl=a.nb;a.videoUrlClicked=a.se;a.youtubeFeature=a.cd;a.getSoundNotification=a.gf;a.productionize_log=a.bg;
function y(b,c){a.debug?(console.log(b),console.log(c)):("object"===typeof c&&(c=JSON.stringify(c)),a.fd(["event","Error",b,c]),$.ajax({url:"https://"+a.Ze,type:"POST",contentType:"application/json",data:JSON.stringify({errorMsg:b,errorStack:c,googleId:a.Cc,videodeckType:1===a.B?"www":a.j?"packed":"extension",videodeckVersion:a.vc}),cache:!1,error:function(){console.log("Failed connection, retry later")}}))}
function F(){var b=a,c,d;for(c in b)d=b[c],"function"==typeof d&&(b[c]=function(b,c){return function(){try{return c.apply(this,arguments)}catch(d){y(b+"(): "+d.message,d.stack)}}}(c,d))}a.debug||F();
