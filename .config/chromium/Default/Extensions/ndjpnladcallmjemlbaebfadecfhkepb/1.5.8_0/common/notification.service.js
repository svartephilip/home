!function(){"use strict";angular.module("app.common").factory("notification",["$log","localize","constants",function(n,e,r){return{show:function(i){if(Utilities.isBackgroundContext()){var o;if(void 0!==i.buttons&&null!==i.buttons){o=[];for(var t=0;t<i.buttons.length;++t)o[t]={},o[t].title=e.getLocalizedString(i.buttons[t].title),o[t].iconUrl=i.buttons[t].iconUrl}BrowserHandler.notifications.clear(i.id,function(t){BrowserHandler.notifications.create(i.id,{iconUrl:"../assets/icon.png",imageUrl:i.imageUrl,message:e.getLocalizedString(i.message),priority:i.priority,progress:i.progress,title:"",type:i.type,buttons:o},function(t){null==t&&n.error("CreateNotificationError")})})}else BrowserHandler.runtime.sendMessage({activity:r.ACTIVITY.NOTIFICATION.NAME,notification:i})}}}])}();